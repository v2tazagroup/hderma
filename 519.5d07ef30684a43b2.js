"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[519],{4519:(Bt,D,r)=>{r.r(D),r.d(D,{CauhinhModule:()=>Yt});var b=r(2480),S=r(5537),C=r(3276),g=r(2611),s=r(3204);const q=[{doanhthutu:5e5,doanhthuden:2e6,capbac:"B\u1ea1c",hhcanhan:10,hhgioithieu:2},{capbac:"\u0110\u1ed3ng",doanhthutu:0,doanhthuden:5e5,hhcanhan:5,hhgioithieu:2},{capbac:"V\xe0ng",doanhthutu:2e6,doanhthuden:1e7,hhcanhan:15,hhgioithieu:2},{capbac:"Kim C\u01b0\u01a1ng",doanhthutu:2e7,doanhthuden:5e7,hhcanhan:20,hhgioithieu:2}];var t=r(2223);let G=(()=>{class n{constructor(e){this.breakpointObserver=e,this.displayedColumns=["capbac","doanhthu","hhcanhan","hhgioithieu"],this.Cauhinh={},this.drawerMode="side",this.Opened=!0,this.breakpointObserver.observe(S.u3.Handset).subscribe(o=>{this.drawerMode=o.matches?"over":"side",this.Opened=!o.matches});const i=localStorage.getItem("ListCauhinh");this.ListCauhinh=null!=i?JSON.parse(i):q}ngOnInit(){this.dataSource=new s.by(this.ListCauhinh)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}AddCauhinh(e){this.ListCauhinh.push(e),this.Cauhinh={},localStorage.setItem("ListCauhinh",JSON.stringify(this.ListCauhinh)),this.dataSource=new s.by(this.ListCauhinh)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.Yg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tazagroup-cauhinh"]],viewQuery:function(e,i){if(1&e&&(t.Gf(C.NW,5),t.Gf(g.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[b.lC]}),n})();var y=r(9016),E=r(6729),Z=r(1135),A=r(8505),_=r(5698),f=r(3900),x=r(4004),H=r(3144);let M=(()=>{class n{constructor(e){this._httpClient=e,this.APIURL=E.N.APIURL,this._hoahong=new Z.X(null),this._hoahongs=new Z.X(null)}get hoahongs$(){return this._hoahongs.asObservable()}get hoahong$(){return this._hoahong.asObservable()}getByid(e){return this._httpClient.get(`${this.APIURL}/cauhinh-hoahong/${e}`).pipe((0,A.b)(i=>{this._hoahong.next(i),console.log(i)}))}getAll(){return this._httpClient.get(`${this.APIURL}/cauhinh-hoahong`).pipe((0,A.b)(e=>{this._hoahongs.next(e)}))}Create(e){return this.hoahongs$.pipe((0,_.q)(1),(0,f.w)(i=>this._httpClient.post(`${this.APIURL}/cauhinh-hoahong`,e).pipe((0,x.U)(o=>(this._hoahongs.next([o[1],...i]),console.log(o),o[1])))))}Update(e){return this.hoahongs$.pipe((0,_.q)(1),(0,f.w)(i=>this._httpClient.patch(`${this.APIURL}/cauhinh-hoahong/${e.id}`,e).pipe((0,x.U)(o=>{const c=i.findIndex(a=>a.id===o.id);return i[c]=o,this._hoahongs.next(i),o}))))}Delete(e){return this.hoahongs$.pipe((0,_.q)(1),(0,f.w)(i=>this._httpClient.delete(`${this.APIURL}/cauhinh-hoahong/${e.id}`).pipe((0,x.U)(o=>{const c=i.filter(a=>a.id!=e.id);return this._hoahongs.next(c),o}))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(H.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N=(()=>{class n{constructor(e){this._httpClient=e,this.APIURL=E.N.APIURL,this._chiendich=new Z.X(null),this._chiendichs=new Z.X(null)}get chiendichs$(){return this._chiendichs.asObservable()}get chiendich$(){return this._chiendich.asObservable()}getByid(e){return this._httpClient.get(`${this.APIURL}/hderma-cauhinh-chiendich/${e}`).pipe((0,A.b)(i=>{this._chiendich.next(i),console.log(i)}))}getAll(){return this._httpClient.get(`${this.APIURL}/hderma-cauhinh-chiendich`).pipe((0,A.b)(e=>{this._chiendichs.next(e)}))}Create(e){return this.chiendichs$.pipe((0,_.q)(1),(0,f.w)(i=>this._httpClient.post(`${this.APIURL}/hderma-cauhinh-chiendich`,e).pipe((0,x.U)(o=>(this._chiendichs.next([o[1],...i]),[o[1],...i])))))}Update(e){return this.chiendichs$.pipe((0,_.q)(1),(0,f.w)(i=>this._httpClient.patch(`${this.APIURL}/hderma-cauhinh-chiendich/${e.id}`,e).pipe((0,x.U)(o=>{const c=i.findIndex(a=>a.id===o.id);return i[c]=o,this._chiendichs.next(i),o}))))}Delete(e){return this.chiendichs$.pipe((0,_.q)(1),(0,f.w)(i=>this._httpClient.delete(`${this.APIURL}/hderma-cauhinh-chiendich/${e.id}`).pipe((0,x.U)(o=>{const c=i.filter(a=>a.id!=e.id);return this._chiendichs.next(c),o}))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(H.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var U=r(919),p=r(4755),l=r(9401),v=r(8995),J=r(1217),w=r(1728),m=r(8280),L=r(8097),d=r(9114),T=r(2214),I=r(3649);function Q(n,h){if(1&n&&(t.TgZ(0,"mat-option",57),t._uU(1),t.qZA()),2&n){const e=h.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.Tieude," ")}}function k(n,h){if(1&n&&(t.TgZ(0,"mat-option",57),t._uU(1),t.qZA()),2&n){const e=h.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.Tieude," ")}}function F(n,h){if(1&n&&(t.TgZ(0,"span",58),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",t.xi3(2,1,e.Chiendich.DoanhThu,"1.0-2"),"\u0111")}}function Y(n,h){if(1&n&&(t.TgZ(0,"mat-hint",65),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw().index,i=t.oxw();t.xp6(1),t.hij("",t.xi3(2,1,i.Chiendich.DoanhThu*i.Chiendich.ListDiem[e]/100,"1.0-2"),"\u0111")}}function B(n,h){if(1&n&&(t.TgZ(0,"mat-hint",65),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw().index,i=t.oxw();t.xp6(1),t.hij("",t.xi3(2,1,i.Chiendich.DoanhThu*i.Chiendich.ListGiatriqua[e]/100,"1.0-2"),"\u0111")}}function $(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"div",59)(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"span",60),t._uU(5),t.qZA(),t._uU(6," - "),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"mat-form-field",61)(10,"mat-label"),t._uU(11,"\u0110i\u1ec3m \u0110\u1ea1t \u0110\u01b0\u1ee3c"),t.qZA(),t.TgZ(12,"input",62),t.NdJ("ngModelChange",function(o){const a=t.CHM(e).index,u=t.oxw();return t.KtG(u.Chiendich.ListDiem[a]=o)})("input",function(o){const a=t.CHM(e).index,u=t.oxw();return t.KtG(u.CheckListDiem(a,o))}),t.qZA(),t.TgZ(13,"span",63),t._uU(14,"%"),t.qZA(),t.YNc(15,Y,3,4,"mat-hint",64),t.qZA(),t.TgZ(16,"mat-form-field",61)(17,"mat-label"),t._uU(18,"Gi\xe1 Tr\u1ecb Qu\xe0"),t.qZA(),t.TgZ(19,"input",62),t.NdJ("ngModelChange",function(o){const a=t.CHM(e).index,u=t.oxw();return t.KtG(u.Chiendich.ListGiatriqua[a]=o)})("input",function(o){const a=t.CHM(e).index,u=t.oxw();return t.KtG(u.CheckListGiatriqua(a,o))}),t.qZA(),t.TgZ(20,"span",63),t._uU(21,"%"),t.qZA(),t.YNc(22,B,3,4,"mat-hint",64),t.qZA(),t._UZ(23,"hr"),t.qZA()}if(2&n){const e=h.$implicit,i=h.index,o=t.oxw();t.xp6(2),t.Oqu(e.capbac),t.xp6(3),t.hij("(",o.Chiendich.ListActive[i],"%)"),t.xp6(3),t.hij("(",o.Chiendich.ListMax[i],"%)"),t.xp6(4),t.Q6J("ngModel",o.Chiendich.ListDiem[i]),t.xp6(3),t.Q6J("ngIf",o.Chiendich.ListDiem[i]),t.xp6(4),t.Q6J("ngModel",o.Chiendich.ListGiatriqua[i]),t.xp6(3),t.Q6J("ngIf",o.Chiendich.ListGiatriqua[i])}}function O(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"button",67),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.CreateChiendich(o.Chiendich))}),t._uU(1,"Th\xeam"),t.qZA()}}function j(n,h){if(1&n&&(t.ynx(0),t.YNc(1,O,2,0,"button",66),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.Chiendich)}}function K(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.UpdateChiendich(o.Chiendich))}),t._uU(1,"C\u1eadp Nh\u1eadt"),t.qZA()}}function P(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.DeleteChiendich(o.Chiendich))}),t._uU(1,"Xo\xe1"),t.qZA()}}function R(n,h){if(1&n&&(t.YNc(0,K,2,0,"button",68),t.YNc(1,P,2,0,"button",69)),2&n){const e=t.oxw();t.Q6J("ngIf",e.Chiendich),t.xp6(1),t.Q6J("ngIf",e.Chiendich)}}function V(n,h){1&n&&(t.TgZ(0,"th",72),t._uU(1," T\xean Chi\u1ebfn D\u1ecbch"),t.qZA())}function z(n,h){if(1&n&&(t.TgZ(0,"td",73),t._uU(1),t.qZA()),2&n){const e=h.$implicit;t.xp6(1),t.hij(" ",e.TenCD," ")}}function W(n,h){1&n&&(t.TgZ(0,"th",72),t._uU(1," Doanh Thu"),t.qZA())}function X(n,h){if(1&n&&(t.TgZ(0,"td",73),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=h.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.DoanhThu,"1.0-2"),"\u0111")}}function tt(n,h){1&n&&(t.TgZ(0,"th",72),t._uU(1," N\u1ed9i Dung"),t.qZA())}function et(n,h){if(1&n&&(t.TgZ(0,"td",73),t._uU(1),t.qZA()),2&n){const e=h.$implicit;t.xp6(1),t.hij(" ",e.Noidung,"")}}function it(n,h){1&n&&(t.TgZ(0,"th",72),t._uU(1," N\u1ed9i Dung"),t.qZA())}function nt(n,h){if(1&n&&(t.TgZ(0,"td",73),t._uU(1),t.ALo(2,"date"),t.ALo(3,"date"),t.qZA()),2&n){const e=h.$implicit;t.xp6(1),t.AsE(" ",t.xi3(2,2,e.Deadline.Batdau,"dd/MM/yyyy")," - ",t.xi3(3,5,e.Deadline.Ketthuc,"dd/MM/yyyy"),"")}}function ot(n,h){1&n&&t._UZ(0,"tr",74)}function ht(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"tr",75),t.NdJ("click",function(){const c=t.CHM(e).$implicit,a=t.oxw(),u=t.MAs(2);return a.Chiendich=c,t.KtG(u.open())}),t.qZA()}}function at(n,h){1&n&&(t.TgZ(0,"tr",76)(1,"td",77),t._uU(2,"No data matching the filter "),t.qZA()())}const ct=function(){return[5,10,25,100]};let st=(()=>{class n{constructor(e,i,o,c){this._notifierService=e,this._hoahongService=i,this._chiendichService=o,this._sanphamService=c,this.displayedColumns=["TenCD","Noidung","Doanhthu","Deadline"],this.ListChiendich=[],this.Hoahongs=[],this.Chiendich={idSP:"",Soluong:"",Deadline:{Batdau:"",Ketthuc:""},ListDiem:[],ListGiatriqua:[],ListMax:[],ListActive:[]},this.ChiendichInit={},this.IsThemCD=!1,this.DiemMax=[],this.ListCapbac=[],this.Sanphams=[],this.filteredSanphams=[],this.Loai=[{id:1,Tieude:"S\u1ea3n Ph\u1ea9m"},{id:2,Tieude:"Doanh Thu"},{id:3,Tieude:"S\u1ed1 L\u01b0\u1ee3ng"},{id:4,Tieude:"S\u1ea3n Ph\u1ea9m v\xe0 S\u1ed1 L\u01b0\u1ee3ng"}],this.filterLoai=[{id:1,Tieude:"S\u1ea3n Ph\u1ea9m"},{id:2,Tieude:"Doanh Thu"},{id:3,Tieude:"S\u1ed1 L\u01b0\u1ee3ng"},{id:4,Tieude:"S\u1ea3n Ph\u1ea9m v\xe0 S\u1ed1 L\u01b0\u1ee3ng"}],this._chiendichService.getAll().subscribe(),this._hoahongService.getAll().subscribe(),this._sanphamService.getProduct().subscribe()}addNhiemvu(){this.Chiendich.Nhiemvus.push({})}onBlur(){}onValueChange(e){this.filteredSanphams=this.Sanphams.filter(i=>i.Tieude.toLowerCase().includes(e))}onLoaiChange(e){this.filterLoai=this.Loai.filter(i=>i.Tieude.toLowerCase().includes(e))}displayFn(e){return e&&e.Tieude?e.Tieude:""}ngOnInit(){this._sanphamService.products$.subscribe(e=>{e&&(this.filteredSanphams=this.Sanphams=e.map(i=>({id:i.id,Tieude:i.Tieude})))}),this._hoahongService.hoahongs$.subscribe(e=>{e&&(this.Hoahongs=e.sort((i,o)=>i.hhcanhan-o.hhcanhan),this.Hoahongs.forEach((i,o)=>{this.Chiendich.ListDiem[o]=0,this.Chiendich.ListGiatriqua[o]=0,this.Chiendich.ListMax[o]=this.Chiendich.ListActive[o]=35-i.hhcanhan-i.hhgioithieu}),this.ChiendichInit=this.Chiendich)}),this._chiendichService.chiendichs$.subscribe(e=>{e&&(this.ListChiendich=e,this.dataSource=new s.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}FDemMax(e,i,o){return this.Chiendich.ListMax[e]=35-i-o,Number(this.Chiendich.ListMax[e])}CheckListDiem(e,i){this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]<0?(this._notifierService.notify("error","V\u01b0\u1ee3t Gi\u1edbi H\u1ea1n"),this.Chiendich.ListDiem[e]=0,this.Chiendich.ListActive[e]=this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]):this.Chiendich.ListActive[e]=this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]}CheckListGiatriqua(e,i){this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]<0?(this._notifierService.notify("error","V\u01b0\u1ee3t Gi\u1edbi H\u1ea1n"),this.Chiendich.ListGiatriqua[e]=0,this.Chiendich.ListActive[e]=this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]):this.Chiendich.ListActive[e]=this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]}CreateChiendich(e){this._chiendichService.Create(e).subscribe(i=>{this._notifierService.notify("success","Th\xeam M\u1edbi Th\xe0nh C\xf4ng"),this.Chiendich=this.ChiendichInit,this.dataSource=new s.by(this.ListChiendich),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}UpdateChiendich(e){this._chiendichService.Update(e).subscribe(),this.Chiendich=this.ChiendichInit,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}DeleteChiendich(e){this._chiendichService.Delete(e).subscribe(),this.Chiendich=this.ChiendichInit,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}checkEmptyObject(e){return 0==Object.keys(e).length}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.lG),t.Y36(M),t.Y36(N),t.Y36(U.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tazagroup-chiendich"]],viewQuery:function(e,i){if(1&e&&(t.Gf(C.NW,5),t.Gf(g.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},decls:96,vars:26,consts:[["autosize","",1,"example-container","w-full","h-full"],["mode","side","position","end",1,"!flex","flex-col","flex-auto","min-w-0","relative","h-full","lg:w-2/3","w-full"],["drawer",""],[1,"relative","flex","flex-col","h-full","w-full","overflow-auto"],[1,"material-icons","p-3","hover:bg-gray-200","rounded-full","absolute",3,"click"],[1,"flex","flex-col","w-full","space-y-2","bg-white","p-4"],[1,"text-center","font-bold","text-xl"],[1,"flex","flex-col","space-y-2","p-3","justify-between"],[1,"flex","flex-col","space-y-3"],[1,"flex","flex-row","space-x-2","justify-between"],["appearance","outline",1,"w-full"],["matInput","","placeholder","VD: V\xe0ng",3,"ngModel","ngModelChange"],["type","text","matInput","","placeholder","Ch\u1ecdn S\u1ea3n Ph\u1ea9m",3,"ngModel","matAutocomplete","ngModelChange"],[3,"displayWith","blur"],["autoLoai","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline"],[3,"rangePicker"],["matStartDate","","placeholder","B\u1eaft \u0110\u1ea7u",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","K\u1ebft Th\xfac",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["autoSP","matAutocomplete"],["appearance","outline",1,"w-20"],["matInput","","type","number","placeholder","VD: V\xe0ng",3,"ngModel","ngModelChange"],["appearance","outline",1,"w-40"],["class","ml-2 text-red-500",4,"ngIf"],["matInput","","placeholder","Placeholder",3,"ngModel","ngModelChange"],[1,"grid","grid-cols-7","gap-3"],["class","flex flex-col space-y-3 items-center justify-between",4,"ngFor","ngForOf"],[1,"flex","flex-row","space-x-2","justify-center"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"!flex","flex-col","flex-auto","min-w-0","relative","bg-white","!h-[100vh]"],[1,"relative","border-b-2","flex","flex-col"],[1,"flex","flex-row"],[1,"px-3"],[1,"flex","flex-row","space-x-3","py-3","items-center","min-h-[50px]","justify-between"],[1,"flex","rounded-md","border-2","border-slate-100","w-full"],["id","user","type","text","placeholder","T\xecm Ki\u1ebfm",1,"block","w-full","py-4","px-2","first-letter:w-full","bg-transparent","rounded-lg","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"keyup"],[1,"inline-flex","items-center","px-3"],[1,"material-icons"],["matTooltip","T\xf9y Ch\u1ec9nh",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg"],["matTooltip","Upload File",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg"],["matTooltip","T\u1ea1o m\u1edbi",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"w-full",3,"dataSource"],["matColumnDef","TenCD"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Doanhthu"],["matColumnDef","Noidung"],["matColumnDef","Deadline"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[3,"value"],[1,"ml-2","text-red-500"],[1,"flex","flex-col","space-y-3","items-center","justify-between"],[1,"text-red-500"],["appearance","outline",1,"!w-full"],["matInput","","type","number","placeholder","Placeholder",3,"ngModel","ngModelChange","input"],["matSuffix",""],["class","text-blue-500",4,"ngIf"],[1,"text-blue-500"],["mat-raised-button","","color","basic","class","bg-blue-500 text-white hover:shadow-md",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-blue-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","class","bg-green-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","class","bg-red-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-green-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","color","basic",1,"bg-red-500","text-white","hover:shadow-md",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"span",4),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(2);return t.KtG(a.toggle())}),t._uU(5," arrow_back "),t.qZA(),t.TgZ(6,"div",5)(7,"div",6),t._uU(8),t.qZA(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),t._uU(14,"T\xean Chi\u1ebfn D\u1ecbch"),t.qZA(),t.TgZ(15,"input",11),t.NdJ("ngModelChange",function(a){return i.Chiendich.TenCD=a}),t.qZA()(),t.TgZ(16,"mat-form-field",10)(17,"mat-label"),t._uU(18,"Lo\u1ea1i Chi\u1ebfn D\u1ecbch"),t.qZA(),t.TgZ(19,"input",12),t.NdJ("ngModelChange",function(a){return i.Chiendich.Loai=a})("ngModelChange",function(a){return i.onLoaiChange(a)}),t.qZA(),t.TgZ(20,"mat-autocomplete",13,14),t.NdJ("blur",function(){return i.onBlur()}),t.YNc(22,Q,2,2,"mat-option",15),t.qZA()(),t.TgZ(23,"mat-form-field",16)(24,"mat-label"),t._uU(25,"Deadline"),t.qZA(),t.TgZ(26,"mat-date-range-input",17)(27,"input",18),t.NdJ("ngModelChange",function(a){return i.Chiendich.Deadline.Batdau=a}),t.qZA(),t.TgZ(28,"input",19),t.NdJ("ngModelChange",function(a){return i.Chiendich.Deadline.Ketthuc=a}),t.qZA()(),t._UZ(29,"mat-datepicker-toggle",20)(30,"mat-date-range-picker",null,21),t.qZA()(),t.TgZ(32,"div",9)(33,"mat-form-field",10)(34,"mat-label"),t._uU(35,"S\u1ea3n Ph\u1ea9m"),t.qZA(),t.TgZ(36,"input",12),t.NdJ("ngModelChange",function(a){return i.Chiendich.Sanpham=a})("ngModelChange",function(a){return i.onValueChange(a)}),t.qZA(),t.TgZ(37,"mat-autocomplete",13,22),t.NdJ("blur",function(){return i.onBlur()}),t.YNc(39,k,2,2,"mat-option",15),t.qZA()(),t.TgZ(40,"mat-form-field",23)(41,"mat-label"),t._uU(42,"S\u1ed1 L\u01b0\u1ee3ng"),t.qZA(),t.TgZ(43,"input",24),t.NdJ("ngModelChange",function(a){return i.Chiendich.Soluong=a}),t.qZA()(),t.TgZ(44,"mat-form-field",25)(45,"mat-label"),t._uU(46,"Doanh Thu"),t.qZA(),t.TgZ(47,"input",24),t.NdJ("ngModelChange",function(a){return i.Chiendich.DoanhThu=a}),t.qZA(),t.TgZ(48,"mat-hint"),t.YNc(49,F,3,4,"span",26),t.qZA()()(),t.TgZ(50,"mat-form-field",16)(51,"mat-label"),t._uU(52,"N\u1ed9i Dung Chi\u1ebfn D\u1ecbch"),t.qZA(),t.TgZ(53,"textarea",27),t.NdJ("ngModelChange",function(a){return i.Chiendich.Noidung=a}),t.qZA()()(),t.TgZ(54,"div",28),t.YNc(55,$,24,7,"div",29),t.qZA()(),t.TgZ(56,"div",30),t.YNc(57,j,2,1,"ng-container",31),t.YNc(58,R,2,2,"ng-template",null,32,t.W1O),t.qZA()(),t._UZ(60,"router-outlet"),t.qZA()(),t.TgZ(61,"mat-drawer-content",33)(62,"div",34)(63,"div",35)(64,"div",36)(65,"div",37)(66,"div",38)(67,"input",39),t.NdJ("keyup",function(a){return i.applyFilter(a)}),t.qZA(),t.TgZ(68,"div",40)(69,"span",41),t._uU(70,"search"),t.qZA()()(),t.TgZ(71,"span",42),t._uU(72," tune "),t.qZA(),t.TgZ(73,"span",43),t._uU(74," file_upload "),t.qZA(),t.TgZ(75,"span",44),t.NdJ("click",function(){return t.CHM(o),t.MAs(2).open(),t.KtG(i.Chiendich=i.ChiendichInit)}),t._uU(76," add_circle "),t.qZA()()()()(),t.TgZ(77,"div",3)(78,"div",45)(79,"table",46),t.ynx(80,47),t.YNc(81,V,2,0,"th",48),t.YNc(82,z,2,1,"td",49),t.BQk(),t.ynx(83,50),t.YNc(84,W,2,0,"th",48),t.YNc(85,X,3,4,"td",49),t.BQk(),t.ynx(86,51),t.YNc(87,tt,2,0,"th",48),t.YNc(88,et,2,1,"td",49),t.BQk(),t.ynx(89,52),t.YNc(90,it,2,0,"th",48),t.YNc(91,nt,4,8,"td",49),t.BQk(),t.YNc(92,ot,1,0,"tr",53),t.YNc(93,ht,1,0,"tr",54),t.YNc(94,at,3,0,"tr",55),t.qZA(),t._UZ(95,"mat-paginator",56),t.qZA()()()()}if(2&e){const o=t.MAs(21),c=t.MAs(31),a=t.MAs(38),u=t.MAs(59);t.xp6(8),t.Oqu(i.Chiendich.TenCD||"Th\xeam M\u1edbi"),t.xp6(7),t.Q6J("ngModel",i.Chiendich.TenCD),t.xp6(4),t.Q6J("ngModel",i.Chiendich.Loai)("matAutocomplete",o),t.xp6(1),t.Q6J("displayWith",i.displayFn),t.xp6(2),t.Q6J("ngForOf",i.filterLoai),t.xp6(4),t.Q6J("rangePicker",c),t.xp6(1),t.Q6J("ngModel",i.Chiendich.Deadline.Batdau),t.xp6(1),t.Q6J("ngModel",i.Chiendich.Deadline.Ketthuc),t.xp6(1),t.Q6J("for",c),t.xp6(7),t.Q6J("ngModel",i.Chiendich.Sanpham)("matAutocomplete",a),t.xp6(1),t.Q6J("displayWith",i.displayFn),t.xp6(2),t.Q6J("ngForOf",i.filteredSanphams),t.xp6(4),t.Q6J("ngModel",i.Chiendich.Soluong),t.xp6(4),t.Q6J("ngModel",i.Chiendich.DoanhThu),t.xp6(2),t.Q6J("ngIf",i.Chiendich.DoanhThu),t.xp6(4),t.Q6J("ngModel",i.Chiendich.Noidung),t.xp6(2),t.Q6J("ngForOf",i.Hoahongs),t.xp6(2),t.Q6J("ngIf",!i.Chiendich.id)("ngIfElse",u),t.xp6(22),t.Q6J("dataSource",i.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(25,ct))}},dependencies:[p.sg,p.O5,l.Fj,l.wV,l.JJ,l.On,v.XC,J.ey,v.ZL,w.lW,m.nW,m.wx,m.zY,m.By,m._g,L.Nt,d.KE,d.hX,d.bx,d.R9,C.NW,T.jA,T.kh,T.LW,g.YE,g.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,s.Ee,I.gM,b.lC,p.JJ,p.uU]}),n})();function rt(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.CreateHoahong(o.Hoahong))}),t._uU(1,"Th\xeam"),t.qZA()}}function ut(n,h){if(1&n&&(t.ynx(0),t.YNc(1,rt,2,0,"button",38),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.Hoahong)}}function lt(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.UpdateHoahong(o.Hoahong))}),t._uU(1,"C\u1eadp Nh\u1eadt"),t.qZA()}}function dt(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.DeleteHoahong(o.Hoahong))}),t._uU(1,"Xo\xe1"),t.qZA()}}function pt(n,h){if(1&n&&(t.YNc(0,lt,2,0,"button",40),t.YNc(1,dt,2,0,"button",41)),2&n){const e=t.oxw();t.Q6J("ngIf",e.Hoahong),t.xp6(1),t.Q6J("ngIf",e.Hoahong)}}function mt(n,h){1&n&&(t.TgZ(0,"th",44),t._uU(1," C\u1ea5p B\u1eadc "),t.qZA())}function gt(n,h){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=h.$implicit;t.xp6(1),t.hij(" ",e.capbac," ")}}function Ct(n,h){1&n&&(t.TgZ(0,"th",44),t._uU(1," Doanh Thu"),t.qZA())}function _t(n,h){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"number"),t.ALo(3,"number"),t.qZA()),2&n){const e=h.$implicit;t.xp6(1),t.AsE(" ",t.xi3(2,2,e.doanhthutu,"1.0-2"),"\u0111 - ",t.xi3(3,5,e.doanhthuden,"1.0-2"),"\u0111 ")}}function ft(n,h){1&n&&(t.TgZ(0,"th",44),t._uU(1," Hoa H\u1ed3ng C\xe1 Nh\xe2n "),t.qZA())}function xt(n,h){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=h.$implicit;t.xp6(1),t.hij(" ",e.hhcanhan,"% ")}}function Tt(n,h){1&n&&(t.TgZ(0,"th",44),t._uU(1," Hoa H\u1ed3ng Gi\u1edbi Thi\u1ec7u "),t.qZA())}function bt(n,h){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=h.$implicit;t.xp6(1),t.hij(" ",e.hhgioithieu,"% ")}}function Zt(n,h){1&n&&t._UZ(0,"tr",46)}function At(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"tr",47),t.NdJ("click",function(){const c=t.CHM(e).$implicit,a=t.oxw(),u=t.MAs(2);return a.Hoahong=c,a.IsThemHH=!1,t.KtG(u.open())}),t.qZA()}}function vt(n,h){1&n&&(t.TgZ(0,"tr",48)(1,"td",49),t._uU(2,"No data matching the filter "),t.qZA()())}const Mt=function(){return[5,10,25,100]};let wt=(()=>{class n{constructor(e){this._hoahongService=e,this.displayedColumns=["capbac","doanhthu","hhcanhan","hhgioithieu"],this.Hoahongs=[],this.Hoahong={},this.IsThemHH=!0,this._hoahongService.getAll().subscribe()}ngOnInit(){this._hoahongService.hoahongs$.subscribe(e=>{e&&(this.Hoahongs=e.sort((i,o)=>i.hhcanhan-o.hhcanhan),this.dataSource=new s.by(this.Hoahongs),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}),this._hoahongService.hoahong$.subscribe(e=>{e&&(this.Hoahong=e)})}CreateHoahong(e){this._hoahongService.Create(e).subscribe(),this.dataSource=new s.by(this.Hoahongs),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.IsThemHH=!0}UpdateHoahong(e){this._hoahongService.Update(e).subscribe(),this.dataSource=new s.by(this.Hoahongs),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.IsThemHH=!0}DeleteHoahong(e){this._hoahongService.Delete(e).subscribe(),this.dataSource=new s.by(this.Hoahongs),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.IsThemHH=!0}checkEmptyObject(e){return 0==Object.keys(e).length}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tazagroup-hoahong"]],viewQuery:function(e,i){if(1&e&&(t.Gf(C.NW,5),t.Gf(g.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},decls:78,vars:20,consts:[["autosize","",1,"example-container","w-full","h-full"],["mode","side","position","end",1,"!flex","flex-col","flex-auto","min-w-0","relative","h-full","lg:w-2/3","w-full"],["drawer",""],[1,"relative","flex","flex-col","h-full","w-full","overflow-auto"],[1,"material-icons","p-3","hover:bg-gray-200","rounded-full",3,"click"],[1,"flex","flex-col","p-3","w-full"],["appearance","outline"],["matInput","","placeholder","VD: V\xe0ng",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","Placeholder",3,"ngModel","ngModelChange"],[1,"text-red-500"],["matSuffix",""],[1,"flex","flex-row","space-x-2","justify-center"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"!flex","flex-col","flex-auto","min-w-0","relative","bg-white","!h-[80vh]"],[1,"relative","border-b-2","flex","flex-col"],[1,"flex","flex-row"],[1,"px-3"],[1,"flex","flex-row","space-x-3","py-3","items-center","min-h-[50px]","justify-between"],[1,"flex","rounded-md","border-2","border-slate-100","w-full"],["id","user","type","text","placeholder","T\xecm Ki\u1ebfm",1,"block","w-full","py-4","px-2","first-letter:w-full","bg-transparent","rounded-lg","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"keyup"],[1,"inline-flex","items-center","px-3"],[1,"material-icons"],["matTooltip","T\xf9y Ch\u1ec9nh",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg"],["matTooltip","Upload File",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg"],["matTooltip","T\u1ea1o m\u1edbi",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"w-full","h-full",3,"dataSource"],["matColumnDef","capbac"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","doanhthu"],["matColumnDef","hhcanhan"],["matColumnDef","hhgioithieu"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["pageSize","10",3,"pageSizeOptions"],["mat-raised-button","","color","basic","class","bg-blue-500 text-white hover:shadow-md",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-blue-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","class","bg-green-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","class","bg-red-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-green-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","color","basic",1,"bg-red-500","text-white","hover:shadow-md",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div")(5,"span",4),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(2);return i.IsThemHH=!0,t.KtG(a.close())}),t._uU(6," arrow_back "),t.qZA(),t.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"C\u1ea5p B\u1eadc"),t.qZA(),t.TgZ(11,"input",7),t.NdJ("ngModelChange",function(a){return i.Hoahong.capbac=a}),t.qZA()(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Doanh Thu T\u1eeb"),t.qZA(),t.TgZ(15,"input",8),t.NdJ("ngModelChange",function(a){return i.Hoahong.doanhthutu=a}),t.qZA(),t.TgZ(16,"mat-hint",9),t._uU(17),t.ALo(18,"number"),t.qZA()(),t.TgZ(19,"mat-form-field",6)(20,"mat-label"),t._uU(21,"Doanh Thu \u0110\u1ebfn"),t.qZA(),t.TgZ(22,"input",8),t.NdJ("ngModelChange",function(a){return i.Hoahong.doanhthuden=a}),t.qZA(),t.TgZ(23,"mat-hint",9),t._uU(24),t.ALo(25,"number"),t.qZA()(),t.TgZ(26,"mat-form-field",6)(27,"mat-label"),t._uU(28,"Hoa H\u1ed3ng C\xe1 Nh\xe2n"),t.qZA(),t.TgZ(29,"input",8),t.NdJ("ngModelChange",function(a){return i.Hoahong.hhcanhan=a}),t.qZA(),t.TgZ(30,"span",10),t._uU(31,"%"),t.qZA()(),t.TgZ(32,"mat-form-field",6)(33,"mat-label"),t._uU(34,"Hoa H\u1ed3ng Gi\u1edbi Thi\u1ec7u"),t.qZA(),t.TgZ(35,"input",8),t.NdJ("ngModelChange",function(a){return i.Hoahong.hhgioithieu=a}),t.qZA(),t.TgZ(36,"span",10),t._uU(37,"%"),t.qZA()(),t.TgZ(38,"div",11),t.YNc(39,ut,2,1,"ng-container",12),t.YNc(40,pt,2,2,"ng-template",null,13,t.W1O),t.qZA()()(),t._UZ(42,"router-outlet"),t.qZA()(),t.TgZ(43,"mat-drawer-content",14)(44,"div",15)(45,"div",16)(46,"div",17)(47,"div",18)(48,"div",19)(49,"input",20),t.NdJ("keyup",function(a){return i.applyFilter(a)}),t.qZA(),t.TgZ(50,"div",21)(51,"span",22),t._uU(52,"search"),t.qZA()()(),t.TgZ(53,"span",23),t._uU(54," tune "),t.qZA(),t.TgZ(55,"span",24),t._uU(56," file_upload "),t.qZA(),t.TgZ(57,"span",25),t.NdJ("click",function(){return t.CHM(o),t.MAs(2).open(),t.KtG(i.Hoahong={})}),t._uU(58," add_circle "),t.qZA()()()()(),t.TgZ(59,"div",3)(60,"div",26)(61,"table",27),t.ynx(62,28),t.YNc(63,mt,2,0,"th",29),t.YNc(64,gt,2,1,"td",30),t.BQk(),t.ynx(65,31),t.YNc(66,Ct,2,0,"th",29),t.YNc(67,_t,4,8,"td",30),t.BQk(),t.ynx(68,32),t.YNc(69,ft,2,0,"th",29),t.YNc(70,xt,2,1,"td",30),t.BQk(),t.ynx(71,33),t.YNc(72,Tt,2,0,"th",29),t.YNc(73,bt,2,1,"td",30),t.BQk(),t.YNc(74,Zt,1,0,"tr",34),t.YNc(75,At,1,0,"tr",35),t.YNc(76,vt,3,0,"tr",36),t.qZA(),t._UZ(77,"mat-paginator",37),t.qZA()()()()}if(2&e){const o=t.MAs(41);t.xp6(11),t.Q6J("ngModel",i.Hoahong.capbac),t.xp6(4),t.Q6J("ngModel",i.Hoahong.doanhthutu),t.xp6(2),t.hij(" ",t.xi3(18,13,i.Hoahong.doanhthutu,"1.0-2"),"\u0111"),t.xp6(5),t.Q6J("ngModel",i.Hoahong.doanhthuden),t.xp6(2),t.hij(" ",t.xi3(25,16,i.Hoahong.doanhthuden,"1.0-2"),"\u0111"),t.xp6(5),t.Q6J("ngModel",i.Hoahong.hhcanhan),t.xp6(6),t.Q6J("ngModel",i.Hoahong.hhgioithieu),t.xp6(4),t.Q6J("ngIf",1==i.IsThemHH)("ngIfElse",o),t.xp6(22),t.Q6J("dataSource",i.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(19,Mt))}},dependencies:[p.O5,l.Fj,l.wV,l.JJ,l.On,w.lW,L.Nt,d.KE,d.hX,d.bx,d.R9,C.NW,T.jA,T.kh,T.LW,g.YE,g.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,s.Ee,I.gM,b.lC,p.JJ]}),n})(),Lt=(()=>{class n{constructor(){this.displayedColumns=["capbac","doanhthu","hhcanhan","hhgioithieu"],this.Cauhinh={};const e=localStorage.getItem("ListCauhinh");this.ListCauhinh=null!=e?JSON.parse(e):q}ngOnInit(){console.log(this.ListCauhinh),this.dataSource=new s.by(this.ListCauhinh)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}AddCauhinh(e){this.ListCauhinh.push(e),this.Cauhinh={},localStorage.setItem("ListCauhinh",JSON.stringify(this.ListCauhinh)),this.dataSource=new s.by(this.ListCauhinh)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["tazagroup-nhiemvu"]],viewQuery:function(e,i){if(1&e&&(t.Gf(C.NW,5),t.Gf(g.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},decls:0,vars:0,template:function(e,i){}}),n})();var Dt=r(2944);let St=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["tazagroup-doiqua"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"doiqua works!"),t.qZA())}}),n})();function qt(n,h){if(1&n&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",t.xi3(2,1,e.Chiendich.DoanhThu,"1.0-2"),"\u0111")}}function yt(n,h){if(1&n&&(t.TgZ(0,"mat-option",30),t._uU(1),t.qZA()),2&n){const e=h.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.Tieude," ")}}function Et(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"mat-form-field",5)(2,"mat-label"),t._uU(3,"S\u1ea3n Ph\u1ea9m"),t.qZA(),t.TgZ(4,"input",21),t.NdJ("ngModelChange",function(o){const a=t.CHM(e).$implicit;return t.KtG(a.Sanpham=o)})("ngModelChange",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.onValueChange(o))}),t.qZA(),t.TgZ(5,"mat-autocomplete",22,23),t.NdJ("blur",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onBlur())}),t.YNc(7,yt,2,2,"mat-option",24),t.qZA()(),t.TgZ(8,"mat-form-field",5)(9,"mat-label"),t._uU(10,"S\u1ed1 L\u01b0\u1ee3ng"),t.qZA(),t.TgZ(11,"input",7),t.NdJ("ngModelChange",function(o){const a=t.CHM(e).$implicit;return t.KtG(a.Soluong=o)}),t.qZA()(),t.TgZ(12,"mat-form-field",13)(13,"mat-label"),t._uU(14,"Deadline"),t.qZA(),t.TgZ(15,"mat-date-range-input",25)(16,"input",26),t.NdJ("ngModelChange",function(o){const a=t.CHM(e).$implicit;return t.KtG(a.Batdau=o)}),t.qZA(),t.TgZ(17,"input",27),t.NdJ("ngModelChange",function(o){const a=t.CHM(e).$implicit;return t.KtG(a.Ketthuc=o)}),t.qZA()(),t._UZ(18,"mat-datepicker-toggle",28)(19,"mat-date-range-picker",null,29),t.qZA()()}if(2&n){const e=h.$implicit,i=t.MAs(6),o=t.MAs(20),c=t.oxw();t.xp6(4),t.Q6J("ngModel",e.Sanpham)("matAutocomplete",i),t.xp6(1),t.Q6J("displayWith",c.displayFn),t.xp6(2),t.Q6J("ngForOf",c.filteredSanphams),t.xp6(4),t.Q6J("ngModel",e.Soluong),t.xp6(4),t.Q6J("rangePicker",o),t.xp6(1),t.Q6J("ngModel",e.Batdau),t.xp6(1),t.Q6J("ngModel",e.Ketthuc),t.xp6(1),t.Q6J("for",o)}}function Ht(n,h){if(1&n&&(t.TgZ(0,"mat-hint",36),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw().index,i=t.oxw();t.xp6(1),t.hij("",t.xi3(2,1,i.Chiendich.DoanhThu*i.Chiendich.ListDiem[e]/100,"1.0-2"),"\u0111")}}function Nt(n,h){if(1&n&&(t.TgZ(0,"mat-hint",36),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw().index,i=t.oxw();t.xp6(1),t.hij("",t.xi3(2,1,i.Chiendich.DoanhThu*i.Chiendich.ListGiatriqua[e]/100,"1.0-2"),"\u0111")}}function Ut(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"div",31)(1,"div"),t._uU(2),t.TgZ(3,"span",32),t._uU(4),t.qZA()(),t.TgZ(5,"mat-form-field",13)(6,"mat-label"),t._uU(7,"\u0110i\u1ec3m \u0110\u1ea1t \u0110\u01b0\u1ee3c"),t.qZA(),t.TgZ(8,"input",33),t.NdJ("ngModelChange",function(o){const a=t.CHM(e).index,u=t.oxw();return t.KtG(u.Chiendich.ListDiem[a]=o)})("input",function(o){const a=t.CHM(e).index,u=t.oxw();return t.KtG(u.CheckListDiem(a,o))}),t.qZA(),t.TgZ(9,"span",34),t._uU(10,"%"),t.qZA(),t.YNc(11,Ht,3,4,"mat-hint",35),t.qZA(),t.TgZ(12,"mat-form-field",13)(13,"mat-label"),t._uU(14,"Gi\xe1 Tr\u1ecb Qu\xe0"),t.qZA(),t.TgZ(15,"input",33),t.NdJ("ngModelChange",function(o){const a=t.CHM(e).index,u=t.oxw();return t.KtG(u.Chiendich.ListGiatriqua[a]=o)})("input",function(o){const a=t.CHM(e).index,u=t.oxw();return t.KtG(u.CheckListGiatriqua(a,o))}),t.qZA(),t.TgZ(16,"span",34),t._uU(17,"%"),t.qZA(),t.YNc(18,Nt,3,4,"mat-hint",35),t.qZA(),t._UZ(19,"hr"),t.qZA()}if(2&n){const e=h.$implicit,i=h.index,o=t.oxw();t.xp6(2),t.AsE("",e.capbac," (",o.Chiendich.ListMax[i],"%) - "),t.xp6(2),t.hij("(",o.Chiendich.ListActive[i],"%)"),t.xp6(4),t.Q6J("ngModel",o.Chiendich.ListDiem[i]),t.xp6(3),t.Q6J("ngIf",o.Chiendich.ListDiem[i]),t.xp6(4),t.Q6J("ngModel",o.Chiendich.ListGiatriqua[i]),t.xp6(3),t.Q6J("ngIf",o.Chiendich.ListGiatriqua[i])}}function Jt(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.CreateChiendich(o.Chiendich))}),t._uU(1,"Th\xeam"),t.qZA()}}function It(n,h){if(1&n&&(t.ynx(0),t.YNc(1,Jt,2,0,"button",37),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.Chiendich)}}function Gt(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.UpdateChiendich(o.Chiendich))}),t._uU(1,"C\u1eadp Nh\u1eadt"),t.qZA()}}function Qt(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.DeleteChiendich(o.Chiendich))}),t._uU(1,"Xo\xe1"),t.qZA()}}function kt(n,h){if(1&n&&(t.YNc(0,Gt,2,0,"button",39),t.YNc(1,Qt,2,0,"button",40)),2&n){const e=t.oxw();t.Q6J("ngIf",e.Chiendich),t.xp6(1),t.Q6J("ngIf",e.Chiendich)}}let Ft=(()=>{class n{constructor(e,i,o,c){this._notifierService=e,this._hoahongService=i,this._chiendichService=o,this._sanphamService=c,this.displayedColumns=["TenCD","Doanhthu","Noidung","Diem","Giatriqua"],this.ListChiendich=[],this.Hoahongs=[],this.Chiendich={Nhiemvus:[{idSP:"",Soluong:"",Deadline:""}],ListDiem:[],ListGiatriqua:[],ListMax:[],ListActive:[]},this.ChiendichInit={},this.IsThemCD=!1,this.DiemMax=[],this.ListCapbac=[],this.Sanphams=[],this.filteredSanphams=[],this._chiendichService.getAll().subscribe(),this._hoahongService.getAll().subscribe(),this._sanphamService.getProduct().subscribe()}addNhiemvu(){this.Chiendich.Nhiemvus.push({})}onBlur(){}onValueChange(e){console.log(e),this.filteredSanphams=this.Sanphams.filter(i=>i.Tieude.toLowerCase().includes(e))}displayFn(e){return e&&e.Tieude?e.Tieude:""}ngOnInit(){this._sanphamService.products$.subscribe(e=>{e&&(this.filteredSanphams=this.Sanphams=e.map(i=>({id:i.id,Tieude:i.Tieude})))}),this._hoahongService.hoahongs$.subscribe(e=>{e&&(this.Hoahongs=e.sort((i,o)=>i.hhcanhan-o.hhcanhan),this.Hoahongs.forEach((i,o)=>{this.Chiendich.ListDiem[o]=0,this.Chiendich.ListGiatriqua[o]=0,this.Chiendich.ListMax[o]=this.Chiendich.ListActive[o]=35-i.hhcanhan-i.hhgioithieu}),this.ChiendichInit=this.Chiendich)}),this._chiendichService.chiendichs$.subscribe(e=>{e&&(this.ListChiendich=e,this.dataSource=new s.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}FDemMax(e,i,o){return this.Chiendich.ListMax[e]=35-i-o,Number(this.Chiendich.ListMax[e])}CheckListDiem(e,i){this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]<0?(this._notifierService.notify("error","V\u01b0\u1ee3t Gi\u1edbi H\u1ea1n"),this.Chiendich.ListDiem[e]=0,this.Chiendich.ListActive[e]=this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]):this.Chiendich.ListActive[e]=this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]}CheckListGiatriqua(e,i){this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]<0?(this._notifierService.notify("error","V\u01b0\u1ee3t Gi\u1edbi H\u1ea1n"),this.Chiendich.ListGiatriqua[e]=0,this.Chiendich.ListActive[e]=this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]):this.Chiendich.ListActive[e]=this.Chiendich.ListMax[e]-this.Chiendich.ListDiem[e]-this.Chiendich.ListGiatriqua[e]}CreateChiendich(e){this._chiendichService.Create(e).subscribe(i=>{this._notifierService.notify("success","Th\xeam M\u1edbi Th\xe0nh C\xf4ng"),this.Chiendich=this.ChiendichInit}),this.dataSource=new s.by(this.ListChiendich),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}UpdateChiendich(e){this._chiendichService.Update(e).subscribe(),this.Chiendich=this.ChiendichInit,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}DeleteChiendich(e){this._chiendichService.Delete(e).subscribe(),this.Chiendich=this.ChiendichInit,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}checkEmptyObject(e){return 0==Object.keys(e).length}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.lG),t.Y36(M),t.Y36(N),t.Y36(U.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-chiendich-chitiet"]],viewQuery:function(e,i){if(1&e&&(t.Gf(C.NW,5),t.Gf(g.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},decls:31,vars:9,consts:[[1,"flex","flex-col","space-y-2","bg-white","p-4"],[1,"text-center","font-bold","text-xl"],[1,"flex","flex-col","space-y-2","p-3","justify-between"],[1,"flex","flex-col","space-y-3"],[1,"flex","flex-row","space-x-2","justify-between"],["appearance","outline",1,"w-full"],["matInput","","placeholder","VD: V\xe0ng",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","VD: V\xe0ng",3,"ngModel","ngModelChange"],["matSuffix","","class","ml-2 text-blue-500",4,"ngIf"],["class","flex flex-row space-x-2 justify-between",4,"ngFor","ngForOf"],[1,"flex","justify-center"],["mat-raised-button","",1,"bg-blue-500","text-white",3,"click"],[1,"material-icons"],["appearance","outline"],["matInput","","placeholder","Placeholder",3,"ngModel","ngModelChange"],[1,"flex","flex-col","space-y-2"],["class","flex md:flex-row md:space-x-2 flex-col space-y-2  items-center justify-between",4,"ngFor","ngForOf"],[1,"flex","flex-row","space-x-2","justify-center"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["matSuffix","",1,"ml-2","text-blue-500"],["type","text","matInput","","placeholder","Ch\u1ecdn S\u1ea3n Ph\u1ea9m",3,"ngModel","matAutocomplete","ngModelChange"],[3,"displayWith","blur"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"rangePicker"],["matStartDate","","placeholder","B\u1eaft \u0110\u1ea7u",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","K\u1ebft Th\xfac",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],[3,"value"],[1,"flex","md:flex-row","md:space-x-2","flex-col","space-y-2","items-center","justify-between"],[1,"text-red-500"],["matInput","","type","number","placeholder","Placeholder",3,"ngModel","ngModelChange","input"],["matSuffix",""],["class","text-blue-500",4,"ngIf"],[1,"text-blue-500"],["mat-raised-button","","color","basic","class","bg-blue-500 text-white hover:shadow-md",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-blue-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","class","bg-green-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","class","bg-red-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-green-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","color","basic",1,"bg-red-500","text-white","hover:shadow-md",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"T\xean Chi\u1ebfn D\u1ecbch"),t.qZA(),t.TgZ(9,"input",6),t.NdJ("ngModelChange",function(c){return i.Chiendich.TenCD=c}),t.qZA()(),t.TgZ(10,"mat-form-field",5)(11,"mat-label"),t._uU(12,"Doanh Thu"),t.qZA(),t.TgZ(13,"input",7),t.NdJ("ngModelChange",function(c){return i.Chiendich.DoanhThu=c}),t.qZA(),t.YNc(14,qt,3,4,"span",8),t.qZA()(),t.YNc(15,Et,21,9,"div",9),t.TgZ(16,"div",10)(17,"button",11),t.NdJ("click",function(){return i.addNhiemvu()}),t.TgZ(18,"span",12),t._uU(19," add_circle "),t.qZA(),t._uU(20," Th\xeam Nhi\u1ec7m V\u1ee5"),t.qZA()(),t.TgZ(21,"mat-form-field",13)(22,"mat-label"),t._uU(23,"N\u1ed9i Dung Chi\u1ebfn D\u1ecbch"),t.qZA(),t.TgZ(24,"textarea",14),t.NdJ("ngModelChange",function(c){return i.Chiendich.Noidung=c}),t.qZA()()(),t.TgZ(25,"div",15),t.YNc(26,Ut,20,7,"div",16),t.qZA()(),t.TgZ(27,"div",17),t.YNc(28,It,2,1,"ng-container",18),t.YNc(29,kt,2,2,"ng-template",null,19,t.W1O),t.qZA()()),2&e){const o=t.MAs(30);t.xp6(2),t.Oqu(i.Chiendich.TenCD||"Th\xeam M\u1edbi"),t.xp6(7),t.Q6J("ngModel",i.Chiendich.TenCD),t.xp6(4),t.Q6J("ngModel",i.Chiendich.DoanhThu),t.xp6(1),t.Q6J("ngIf",i.Chiendich.DoanhThu),t.xp6(1),t.Q6J("ngForOf",i.Chiendich.Nhiemvus),t.xp6(9),t.Q6J("ngModel",i.Chiendich.Noidung),t.xp6(2),t.Q6J("ngForOf",i.Hoahongs),t.xp6(2),t.Q6J("ngIf",!i.Chiendich.id)("ngIfElse",o)}},dependencies:[p.sg,p.O5,l.Fj,l.wV,l.JJ,l.On,v.XC,J.ey,v.ZL,w.lW,m.nW,m.wx,m.zY,m.By,m._g,L.Nt,d.KE,d.hX,d.bx,d.R9,p.JJ]}),n})(),Yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,l.u5,Dt.q,l.UX,b.Bz.forChild([{path:"",component:G,children:[{path:"hoahong",component:wt},{path:"chiendich",component:st,children:[{path:":id",component:Ft}]},{path:"nhiemvu",component:Lt},{path:"doiqua",component:St}]}]),b.Bz]}),n})()}}]);