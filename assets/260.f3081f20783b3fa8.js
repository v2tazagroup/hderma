"use strict";(self.webpackChunkhdermaapp=self.webpackChunkhdermaapp||[]).push([[260],{7260:($,C,i)=>{i.r(C),i.d(C,{DanhmucProductModule:()=>g});var _=i(6895),u=i(5715),D=i(529),l=i(4006),y=i(5291),w=i(9102),M=i(9485),I=i(9016),s=i(5423),O=i(7851),P=i(8739),V=i(6308),S=i(7186),e=i(4650),f=i(5938),F=i(4859),k=i(7392),p=i(9549),T=i(4144),E=i(3267),L=i(266);function A(c,n){if(1&c){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-tree-node",7),e.\u0275\u0275element(1,"button",8),e.\u0275\u0275elementStart(2,"div",9)(3,"div",10)(4,"span",11),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.updateTrangthai(o))}),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"span",12),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",13)(9,"span",14),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext(),v=e.\u0275\u0275reference(9);return e.\u0275\u0275resetView(d.OpenThemDanhmuc(o,v))}),e.\u0275\u0275text(10," note_add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"span",15),e.\u0275\u0275text(12," edit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"span",16),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.deleteDanhmuc(o.id))}),e.\u0275\u0275text(14," delete "),e.\u0275\u0275elementEnd()()()()}if(2&c){const t=n.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("routerLink",t.Slug),e.\u0275\u0275advance(2),e.\u0275\u0275classMapInterpolate1("material-icons ",1==t.Trangthai?"text-yellow-500":"",""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",1==t.Trangthai?"star":"star_border"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.Title)}}function j(c,n){if(1&c){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-tree-node",7)(1,"button",17)(2,"mat-icon",18),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",19)(5,"div",10)(6,"span",20),e.\u0275\u0275text(7," collections_bookmark "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"span",12),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",21)(11,"span",22),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext(),v=e.\u0275\u0275reference(9);return e.\u0275\u0275resetView(d.OpenThemDanhmuc(o,v))}),e.\u0275\u0275text(12," note_add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"span",23),e.\u0275\u0275text(14," edit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"span",24),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.deleteDanhmuc(o.id))}),e.\u0275\u0275text(16," delete "),e.\u0275\u0275elementEnd()()()()}if(2&c){const t=n.$implicit,r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label","Toggle "+t.Title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",r.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("routerLink","detail/",t.Slug,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",t.Title," ")}}const b=function(){return{standalone:!0}};function N(c,n){if(1&c){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-dialog-content")(1,"form")(2,"div")(3,"mat-form-field",25)(4,"mat-label"),e.\u0275\u0275text(5,"Slug"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"input",26),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.DanhmucList.Slug=a)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div")(8,"mat-form-field",27)(9,"mat-label"),e.\u0275\u0275text(10,"T\xean Danh M\u1ee5c"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"input",28),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.DanhmucList.Title=a)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(12,"div",29)(13,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSave())}),e.\u0275\u0275text(14," X\xe1c nh\u1eadn "),e.\u0275\u0275elementEnd()()()}if(2&c){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.DanhmucList.Slug)("ngModelOptions",e.\u0275\u0275pureFunction0(4,b)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.DanhmucList.Title)("ngModelOptions",e.\u0275\u0275pureFunction0(5,b))}}class h{dialog;fb;_danhmucService;themes;danhmuc;theme;selectedFiles;percentage=0;selectTheme;DanhmucList;temp;sort;paginator;_transformer=(n,t)=>({expandable:!!n.children&&n.children.length>0,level:t,...n});treeControl=new O.C2(n=>n.level,n=>n.expandable);treeFlattener=new s.JZ(this._transformer,n=>n.level,n=>n.expandable,n=>n.children);hasChild=(n,t)=>t.expandable;hasNoContent=(n,t)=>""===t.name;dataSource1=new s.kc(this.treeControl,this.treeFlattener);constructor(n,t,r){this.dialog=n,this.fb=t,this._danhmucService=r}nest=(n,t="",r="pid")=>{if(n)return n?.filter(a=>a[r]==t).map(a=>({...a,children:this.nest(n,a.id)}))};OpenThemDanhmuc(n,t){this.temp=n,this.dialog.open(t)}clickupdate(){this.danhmuc.forEach(n=>{this._danhmucService.postDanhmuc(n).subscribe(t=>console.log(t))})}onSave(){this.DanhmucList.pid=this.temp.id,this._danhmucService.postDanhmuc(this.DanhmucList).subscribe(n=>{n&&(this.resetForm(),alert("T\u1ea1o danh m\u1ee5c th\xe0nh c\xf4ng"),this.dialog.closeAll())})}updateTrangthai(n){n.Trangthai=0==n.Trangthai?1:0,this._danhmucService.updateDanhmuc(n).subscribe()}deleteDanhmuc(n){this._danhmucService.deleteDanhmuc(n).subscribe(t=>{t&&alert("Xo\xe1 danh m\u1ee5c th\xe0nh c\xf4ng")})}resetForm(){this.DanhmucList={Title:"",pid:"",Mota:"",Slug:"",Image:"",Ordering:0}}ngOnInit(){this.resetForm(),this._danhmucService.getDanhmucs().subscribe(),this._danhmucService.danhmucs$.subscribe(n=>{n&&(this.danhmuc=n,this.danhmuc.sort((t,r)=>t.Ordering-r.Ordering),this.dataSource1.data=this.nest(n))})}static \u0275fac=function(t){return new(t||h)(e.\u0275\u0275directiveInject(f.uw),e.\u0275\u0275directiveInject(l.qu),e.\u0275\u0275directiveInject(S.f))};static \u0275cmp=e.\u0275\u0275defineComponent({type:h,selectors:[["tazagroup-danhmuc-product"]],viewQuery:function(t,r){if(1&t&&(e.\u0275\u0275viewQuery(V.YE,5),e.\u0275\u0275viewQuery(P.NW,5)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(r.sort=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(r.paginator=a.first)}},decls:10,vars:3,consts:[["autosize","",1,"example-container","bg-white"],["opened","","mode","side",1,"example-sidenav","w-1/3"],["drawer",""],[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["ThemDanhmucDialog",""],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],["routerLinkActive","bg-gray-200",1,"flex","items-center","justify-between","space-x-4","cursor-pointer","w-full","px-3","py-1","group",3,"routerLink"],[1,"flex","items-center","space-x-2"],[3,"click"],[1,""],[1,"hidden","group-hover:flex","items-center","space-x-2"],["title","T\u1ea1o danh m\u1ee5c con",1,"material-icons","cursor-pointer","text-blue-500",3,"click"],["title","Ch\u1ec9nh s\u1eeda",1,"material-icons","text-blue-500"],["title","Xo\xe1",1,"material-icons","cursor-pointer","text-red-500",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["routerLinkActive","bg-gray-200",1,"flex","items-center","space-x-4","justify-between","cursor-pointer","w-full","group","hover:bg-gray-200","px-3","py-1","rounded",3,"routerLink"],[1,"material-icons","text-yellow-500"],[1,"items-center","space-x-2","hidden","group-hover:flex"],["title","T\u1ea1o danh m\u1ee5c con","matTooltip","T\u1ea1o danh m\u1ee5c con",1,"material-icons","cursor-pointer","text-blue-500",3,"click"],[1,"material-icons","text-blue-500"],[1,"material-icons","cursor-pointer","text-red-500",3,"click"],["appearance","outline",1,"flex","w-full"],["matInput","","type","text","placeholder","Slug",3,"ngModel","ngModelOptions","ngModelChange"],["appearance","outline",1,"flex","\u01b0-full"],["matInput","","type","text","placeholder","T\xean danh muc",3,"ngModel","ngModelOptions","ngModelChange"],[1,"flex","justify-end"],["mat-button","","matDialogClose","","color","white",1,"bg-green-500","text-white",3,"click"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"mat-tree",3),e.\u0275\u0275template(4,A,15,6,"mat-tree-node",4),e.\u0275\u0275template(5,j,17,4,"mat-tree-node",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div"),e.\u0275\u0275element(7,"router-outlet"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,N,15,6,"ng-template",null,6,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("dataSource",r.dataSource1)("treeControl",r.treeControl),e.\u0275\u0275advance(2),e.\u0275\u0275property("matTreeNodeDefWhen",r.hasChild))},dependencies:[F.lW,f.ZT,f.xY,k.Hw,p.KE,p.hX,T.Nt,E.jA,E.kh,L.gM,s.fQ,s.ah,s.eu,s.gi,s.uo,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,u.lC,u.rH,u.Od]})}function z(c,n){if(1&c){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSubmit())}),e.\u0275\u0275text(1,"T\u1ea1o m\u1edbi"),e.\u0275\u0275elementEnd()}}function J(c,n){if(1&c){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.updateDanhmuc())}),e.\u0275\u0275text(1,"C\u1eadp nh\u1eadt"),e.\u0275\u0275elementEnd()}}const x=function(){return{standalone:!0}};class m{route;_danhmucService;danhmuc;theme;selectedFiles;percentage=0;selectTheme;slug;constructor(n,t){this.route=n,this._danhmucService=t}nest=(n,t="",r="pid")=>{if(n)return n?.filter(a=>a[r]==t).map(a=>({...a,children:this.nest(n,a.id)}))};onSubmit(){this._danhmucService.postDanhmuc(this.danhmuc).subscribe()}updateDanhmuc(){this._danhmucService.updateDanhmuc(this.danhmuc).subscribe(n=>{n&&alert("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")})}onFileBrowse(n,t){let r=n.target.files[0];const a=new FormData;a.append("file",r),this._danhmucService.uploadDriver(a).subscribe(o=>{o&&99==t&&(this.danhmuc.Image=o.idDrive,this._danhmucService.updateDanhmuc(this.danhmuc).subscribe(d=>{}))})}ngOnInit(){this.danhmuc={Title:"",pid:"",Mota:"",Slug:"",Image:"",Ordering:0},this.route.params.subscribe(n=>{this.slug=n.slug,this.slug&&(this._danhmucService.getDanhmucDetail(this.slug).subscribe(),this._danhmucService.danhmuc$.subscribe(t=>{t&&(this.danhmuc=t)}))})}static \u0275fac=function(t){return new(t||m)(e.\u0275\u0275directiveInject(u.gz),e.\u0275\u0275directiveInject(S.f))};static \u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["tazagroup-danhmuc-product-detail"]],decls:26,vars:12,consts:[[1,"w-full","pt-10"],[1,"space-y-5","px-5"],[1,""],["appearance","outline",1,"flex","w-full"],["matInput","","type","text","placeholder","T\u1ea9y trang",1,"w-full","text-xs",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","type","text","placeholder","Slug",1,"w-full","text-xs",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","type","text","placeholder","Ordering",1,"w-full","text-xs",3,"ngModel","ngModelOptions","ngModelChange"],[1,"flex","items-center","justify-between"],[1,"w-1/2"],["for",""],["type","file","accept","image/*",3,"change"],["alt","",3,"src"],[1,"flex","items-center"],["class","px-3 py-1 text-white rounded bg-green-500",3,"click",4,"ngIf"],["class","px-3 py-1 text-white rounded bg-blue-500",3,"click",4,"ngIf"],[1,"px-3","py-1","text-white","rounded","bg-green-500",3,"click"],[1,"px-3","py-1","text-white","rounded","bg-blue-500",3,"click"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.\u0275\u0275text(5," Ti\xeau \u0111\u1ec1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"input",4),e.\u0275\u0275listener("ngModelChange",function(o){return r.danhmuc.Title=o}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",2)(8,"mat-form-field",3)(9,"mat-label"),e.\u0275\u0275text(10," Slug"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"input",5),e.\u0275\u0275listener("ngModelChange",function(o){return r.danhmuc.Slug=o}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",2)(13,"mat-form-field",3)(14,"mat-label"),e.\u0275\u0275text(15," Ordering"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"input",6),e.\u0275\u0275listener("ngModelChange",function(o){return r.danhmuc.Ordering=o}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(17,"div",7)(18,"div",8)(19,"label",9),e.\u0275\u0275text(20,"H\xecnh Thumbnail"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"input",10),e.\u0275\u0275listener("change",function(o){return r.onFileBrowse(o,99)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"img",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",12),e.\u0275\u0275template(24,z,2,0,"span",13),e.\u0275\u0275template(25,J,2,0,"span",14),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",r.danhmuc.Title)("ngModelOptions",e.\u0275\u0275pureFunction0(9,x)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",r.danhmuc.Slug)("ngModelOptions",e.\u0275\u0275pureFunction0(10,x)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",r.danhmuc.Ordering)("ngModelOptions",e.\u0275\u0275pureFunction0(11,x)),e.\u0275\u0275advance(6),e.\u0275\u0275propertyInterpolate1("src","https://drive.google.com/uc?id=",r.danhmuc.Image,"",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!r.slug),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.slug))},dependencies:[_.O5,p.KE,p.hX,T.Nt,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F]})}class g{static \u0275fac=function(t){return new(t||g)};static \u0275mod=e.\u0275\u0275defineNgModule({type:g});static \u0275inj=e.\u0275\u0275defineInjector({providers:[D.JF],imports:[_.ez,y.MaterialModule,l.UX,M.kz,l.u5,D.JF,w.Z_,I.Eb,u.Bz.forChild([{path:"",component:h,children:[{path:":slug",component:m},{path:"",component:m}]}]),u.Bz]})}}}]);