"use strict";(self.webpackChunkhdermaapp=self.webpackChunkhdermaapp||[]).push([[224],{224:(De,w,c)=>{c.r(w),c.d(w,{SanphamModule:()=>S});var g=c(6895),d=c(5715),A=c(529),m=c(4006),L=c(5291),I=c(9102),N=c(9485),O=c(7851),H=c(8739),B=c(6308),u=c(5423),E=c(7424),e=c(4650),P=c(5938),T=c(9016),b=c(4859),j=c(7392),h=c(9549),D=c(4144),y=c(3267),U=c(266);function z(l,n){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&l){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.Tieude," ")}}function Q(l,n){1&l&&(e.\u0275\u0275elementStart(0,"span",33),e.\u0275\u0275text(1,"Ch\u01b0a C\xf3 Ti\xeau \u0110\u1ec1 "),e.\u0275\u0275elementEnd())}function R(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",34),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.UpdateField(i,"Trangthai",1))}),e.\u0275\u0275elementStart(2,"span",35),e.\u0275\u0275text(3,"visibility"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",36),e.\u0275\u0275text(5,"Hi\u1ec7n"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}}function $(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.UpdateField(i,"Trangthai",0))}),e.\u0275\u0275elementStart(1,"span",35),e.\u0275\u0275text(2,"visibility_off"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span",36),e.\u0275\u0275text(4,"\u1ea8n"),e.\u0275\u0275elementEnd()()}}function G(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-tree-node",22)(1,"div",23)(2,"div",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(2);return e.\u0275\u0275resetView(i.open())}),e.\u0275\u0275elementStart(3,"span",25),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.updateTrangthai(o))}),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,z,3,1,"ng-container",26),e.\u0275\u0275template(6,Q,2,0,"ng-template",null,27,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",28),e.\u0275\u0275template(9,R,6,0,"ng-container",26),e.\u0275\u0275template(10,$,5,0,"ng-template",null,29,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(12,"div",30),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.DeleteSanpham(o.id))}),e.\u0275\u0275elementStart(13,"span",31),e.\u0275\u0275text(14,"delete"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"span",32),e.\u0275\u0275text(16,"Xo\xe1"),e.\u0275\u0275elementEnd()()()()()}if(2&l){const t=n.$implicit,a=e.\u0275\u0275reference(7),i=e.\u0275\u0275reference(11);e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("routerLink","sanpham/"+t.Slug),e.\u0275\u0275advance(1),e.\u0275\u0275classMapInterpolate1("material-icons ",1==t.Trangthai?"text-yellow-500":"",""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",1==t.Trangthai?"star":"star_border"," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.Tieude)("ngIfElse",a),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!t.Trangthai)("ngIfElse",i)}}function K(l,n){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-icon",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const t=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.treeControl.isExpanded(t)?"expand_more":"chevron_right"," ")}}function W(l,n){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&l){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.Title," ")}}function X(l,n){1&l&&(e.\u0275\u0275elementStart(0,"span",33),e.\u0275\u0275text(1,"Ch\u01b0a C\xf3 Ti\xeau \u0110\u1ec1 "),e.\u0275\u0275elementEnd())}const Y=function(l){return[l]};function J(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-tree-node",22)(1,"button",38),e.\u0275\u0275template(2,K,2,1,"mat-icon",39),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",40)(4,"div",41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(2);return e.\u0275\u0275resetView(i.open())}),e.\u0275\u0275elementStart(5,"span",42),e.\u0275\u0275text(6," collections_bookmark "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,W,3,1,"ng-container",26),e.\u0275\u0275template(8,X,2,0,"ng-template",null,27,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",28)(11,"div",43),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(2);return e.\u0275\u0275resetView(i.open())}),e.\u0275\u0275elementStart(12,"span",44),e.\u0275\u0275text(13,"add_circle"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"span",32),e.\u0275\u0275text(15,"Th\xeam"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",30),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.deleteDanhmuc(o.id))}),e.\u0275\u0275elementStart(17,"span",31),e.\u0275\u0275text(18,"delete"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"span",32),e.\u0275\u0275text(20,"Xo\xe1"),e.\u0275\u0275elementEnd()()()()()}if(2&l){const t=n.$implicit,a=e.\u0275\u0275reference(9);e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label","Toggle "+t.Title),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.children.length>0),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("routerLink","danhmuc/"+t.Slug),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.Title)("ngIfElse",a),e.\u0275\u0275advance(4),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(6,Y,t.id+"/spmoi"))}}class x{dialog;fb;_sanphamService;_notifierService;themes;danhmuc=[];theme;selectedFiles;percentage=0;selectTheme;DanhmucList;Filterdanhmuc=[];temp;sort;paginator;_transformer=(n,t)=>({expandable:!!n.children,level:t,...n});treeControl=new O.C2(n=>n.level,n=>n.expandable);treeFlattener=new u.JZ(this._transformer,n=>n.level,n=>n.expandable,n=>n.children);hasChild=(n,t)=>t.expandable;hasNoContent=(n,t)=>""===t.name;ShowDM=!0;dataSource1=new u.kc(this.treeControl,this.treeFlattener);constructor(n,t,a,i){this.dialog=n,this.fb=t,this._sanphamService=a,this._notifierService=i}ngOnInit(){this.resetForm(),this._sanphamService.getDanhmucs().subscribe(),this._sanphamService.getProduct().subscribe(),this._sanphamService.danhmucs$.subscribe(n=>{n&&(console.log(n),this.Filterdanhmuc=this.danhmuc=n.sort((t,a)=>t.Ordering-a.Ordering),this.dataSource1.data=this.Filterdanhmuc,this.treeControl.expandAll())})}applyFilter(n){const t=n.target.value;t.length>2&&(this.Filterdanhmuc=this.danhmuc.filter(a=>a.Hoten.toLowerCase().includes(t)||a.SDT.toLowerCase().includes(t)))}OpenThemDanhmuc(n,t){this.temp=n,this.dialog.open(t)}clickupdate(){this.danhmuc.forEach(n=>{this._sanphamService.postDanhmuc(n).subscribe(t=>console.log(t))})}UpdateField(n,t,a){n[t]=a,console.log(n),console.log(t),console.log(a),this._sanphamService.updateProduct(n).subscribe(i=>console.log(i))}onSave(){this.DanhmucList.pid=this.temp.id,this._sanphamService.postDanhmuc(this.DanhmucList).subscribe(n=>{n&&(this.resetForm(),this.dialog.closeAll())}),this._notifierService.show({message:"T\u1ea1o danh m\u1ee5c th\xe0nh c\xf4ng",type:"success"})}updateTrangthai(n){n.Trangthai=0==n.Trangthai?1:0,this._sanphamService.updateDanhmuc(n).subscribe()}deleteDanhmuc(n){this._sanphamService.deleteDanhmuc(n).subscribe(),this._notifierService.show({message:"Xo\xe1 danh m\u1ee5c th\xe0nh c\xf4ng",type:"success"})}resetForm(){this.DanhmucList={Title:"",pid:"",Mota:"",Slug:"",Image:"",Ordering:0}}DeleteSanpham(n){this._sanphamService.deleteSanpham(n).subscribe(),this._notifierService.show({message:"Xo\xe1 s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng",type:"success"})}static \u0275fac=function(t){return new(t||x)(e.\u0275\u0275directiveInject(P.uw),e.\u0275\u0275directiveInject(m.qu),e.\u0275\u0275directiveInject(E.D),e.\u0275\u0275directiveInject(T.lG))};static \u0275cmp=e.\u0275\u0275defineComponent({type:x,selectors:[["tazagroup-sanpham"]],viewQuery:function(t,a){if(1&t&&(e.\u0275\u0275viewQuery(B.YE,5),e.\u0275\u0275viewQuery(H.NW,5)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(a.sort=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(a.paginator=i.first)}},decls:42,vars:3,consts:[["autosize","",1,"example-container","w-full","h-full"],["mode","side","position","end",1,"!flex","flex-col","flex-auto","min-w-0","relative","h-full","w-full"],["drawer",""],[1,"relative","flex","flex-col","h-full","w-full","overflow-auto"],[1,"material-icons","p-3","hover:bg-gray-200","rounded-full",3,"click"],[1,"!flex","flex-col","flex-auto","min-w-0","relative"],[1,"flex","flex-col","h-full","shadow"],[1,"relative","border-b-2","flex","flex-col"],[1,"flex","flex-col","p-3","items-center","justify-between","w-full"],["appearance","outline",1,"w-full","text-xs"],["matInput","","placeholder","M\xf4 T\u1ea3",1,"w-full",3,"keyup"],["matPrefix","",1,"material-icons","mr-2"],[1,"flex","flex-row","space-x-3","justify-start","w-full"],[1,"flex","items-center","space-x-2","p-2","hover:bg-gray-200","rounded-lg"],["matTooltip","T\xf9y Ch\u1ec9nh",1,"material-icons","text-xl"],[1,"text-sm"],["matTooltip","L\u1ea5y M\u1eabu",1,"material-icons","text-xl"],["matTooltip","Upload File",1,"material-icons","text-xl"],["matTooltip","T\u1ea1o m\u1edbi",1,"material-icons","text-xl"],[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["routerLinkActive","bg-gray-200",1,"flex","items-center","justify-between","space-x-4","hover:bg-gray-200","rounded","cursor-pointer","w-full","px-3","py-1"],[1,"flex","items-center","space-x-2","w-full",3,"routerLink","click"],[3,"click"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"flex","flex-row","space-x-4","text-xs"],["anhienTemplate",""],[1,"flex","flex-col","text-center","text-gray-500",3,"click"],[1,"material-icons","text-red-500"],[1,"text-gray-500","text-xs"],[1,"text-red-500"],[1,"flex","flex-col","text-center","text-green-500",3,"click"],[1,"material-icons"],[1,"text-gray-500"],[1,"flex","flex-col","text-center","text-red-500",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],["class","mat-icon-rtl-mirror",4,"ngIf"],["routerLinkActive","bg-gray-200",1,"flex","items-center","space-x-4","justify-between","cursor-pointer","w-full","hover:bg-gray-200","px-3","py-1","rounded"],[1,"flex","items-center","space-x-2",3,"routerLink","click"],[1,"material-icons","text-yellow-500"],[1,"flex","flex-col","text-center","text-gray-500",3,"routerLink","click"],[1,"material-icons","text-blue-500"],[1,"mat-icon-rtl-mirror"]],template:function(t,a){if(1&t){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div")(5,"span",4),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const r=e.\u0275\u0275reference(2);return e.\u0275\u0275resetView(r.toggle())}),e.\u0275\u0275text(6," cancel "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(7,"router-outlet"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"mat-drawer-content",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),e.\u0275\u0275text(14,"Ti\xeau \u0110\u1ec1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"input",10),e.\u0275\u0275listener("keyup",function(r){return a.applyFilter(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"span",11),e.\u0275\u0275text(17,"search"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",12)(19,"div",13)(20,"span",14),e.\u0275\u0275text(21,"tune"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"span",15),e.\u0275\u0275text(23,"C\u1ea5u H\xecnh"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",13)(25,"span",16),e.\u0275\u0275text(26,"file_download"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"span",15),e.\u0275\u0275text(28,"Download"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"div",13)(30,"span",17),e.\u0275\u0275text(31,"file_upload"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"span",15),e.\u0275\u0275text(33,"Upload"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div",13)(35,"span",18),e.\u0275\u0275text(36,"add_circle"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"span",15),e.\u0275\u0275text(38,"Th\xeam"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(39,"mat-tree",19),e.\u0275\u0275template(40,G,17,9,"mat-tree-node",20),e.\u0275\u0275template(41,J,21,8,"mat-tree-node",21),e.\u0275\u0275elementEnd()()()()}2&t&&(e.\u0275\u0275advance(39),e.\u0275\u0275property("dataSource",a.dataSource1)("treeControl",a.treeControl),e.\u0275\u0275advance(2),e.\u0275\u0275property("matTreeNodeDefWhen",a.hasChild))},dependencies:[g.O5,b.lW,j.Hw,h.KE,h.hX,h.qo,D.Nt,y.jA,y.kh,y.LW,U.gM,u.fQ,u.ah,u.eu,u.gi,u.uo,d.lC,d.rH,d.Od]})}var M=c(6065),Z=c(7768),q=c(1481),F=c(3238),k=c(4385),V=c(3848);const ee=["tabGroup"];function te(l,n){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-option",38),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const t=n.$implicit;e.\u0275\u0275propertyInterpolate("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.Title)}}function ne(l,n){1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",39)(2,"div"),e.\u0275\u0275text(3,"400x400 px"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5,"Ch\u01b0a C\xf3 H\xecnh"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function ae(l,n){if(1&l&&e.\u0275\u0275element(0,"img",40),2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",t.product.Hinhanh.hinh1.spath,e.\u0275\u0275sanitizeUrl)}}function ie(l,n){1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",39)(2,"div"),e.\u0275\u0275text(3,"400x400 px"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5,"Ch\u01b0a C\xf3 H\xecnh"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function re(l,n){if(1&l&&e.\u0275\u0275element(0,"img",40),2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",t.product.Hinhanh.hinh2.spath,e.\u0275\u0275sanitizeUrl)}}function le(l,n){1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",39)(2,"div"),e.\u0275\u0275text(3,"400x400 px"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5,"Ch\u01b0a C\xf3 H\xecnh"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function oe(l,n){if(1&l&&e.\u0275\u0275element(0,"img",40),2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",t.product.Hinhanh.hinh3.spath,e.\u0275\u0275sanitizeUrl)}}function ce(l,n){1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",39)(2,"div"),e.\u0275\u0275text(3,"400x400 px"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5,"Ch\u01b0a C\xf3 H\xecnh"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function se(l,n){if(1&l&&e.\u0275\u0275element(0,"img",40),2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",t.product.Hinhanh.hinh4.spath,e.\u0275\u0275sanitizeUrl)}}function me(l,n){1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",39)(2,"div"),e.\u0275\u0275text(3,"400x400 px"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5,"Ch\u01b0a C\xf3 H\xecnh"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function pe(l,n){if(1&l&&e.\u0275\u0275element(0,"img",40),2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",t.product.Hinhanh.hinh5.spath,e.\u0275\u0275sanitizeUrl)}}function de(l,n){1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",41)(2,"div"),e.\u0275\u0275text(3,"400x400 px"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5,"Ch\u01b0a C\xf3 H\xecnh"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function ue(l,n){if(1&l&&e.\u0275\u0275element(0,"img",42),2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",t.product.Hinhanh.hinhchinh.spath,e.\u0275\u0275sanitizeUrl)}}function he(l,n){1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",41)(2,"div"),e.\u0275\u0275text(3,"400x400 px"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5,"Ch\u01b0a C\xf3 H\xecnh"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function ge(l,n){if(1&l&&e.\u0275\u0275element(0,"img",42),2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",t.product.Hinhanh.hinhthongtin.spath,e.\u0275\u0275sanitizeUrl)}}const p=function(){return{standalone:!0}};function _e(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"editor",24),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.product.Noidung.Thongtin=i)}),e.\u0275\u0275elementEnd()}if(2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("apiKey",t.APITINYMCE)("ngModel",t.product.Noidung.Thongtin)("ngModelOptions",e.\u0275\u0275pureFunction0(4,p))("init",t.configTiny)}}function fe(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"editor",24),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.product.Noidung.Sudung=i)}),e.\u0275\u0275elementEnd()}if(2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("apiKey",t.APITINYMCE)("ngModel",t.product.Noidung.Sudung)("ngModelOptions",e.\u0275\u0275pureFunction0(4,p))("init",t.configTiny)}}function xe(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"editor",24),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.product.Noidung.Thanhphan=i)}),e.\u0275\u0275elementEnd()}if(2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("apiKey",t.APITINYMCE)("ngModel",t.product.Noidung.Thanhphan)("ngModelOptions",e.\u0275\u0275pureFunction0(4,p))("init",t.configTiny)}}function ve(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",43),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onSubmit())}),e.\u0275\u0275text(1,"T\u1ea1o m\u1edbi"),e.\u0275\u0275elementEnd()}}function Ce(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",44),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.updateSanpham())}),e.\u0275\u0275text(1,"C\u1eadp nh\u1eadt"),e.\u0275\u0275elementEnd()}}class _{_sanphamService;route;sanitizer;_tagService;_notifierService;_router;APITINYMCE;product={Hinhanh:{}};selectedFiles;slug;danhmucs=[];tags;tinhtrangdas;loaisanphams;ListImage={};tagsTinhtrangData=[];tagsLoaiSpData=[];configTiny={plugins:"lists link image table code fullscreen",toolbar:"undo redo | bold underline italic | alignleft aligncenter alignright | bullist numlist outdent indent | link code fullscreen",image_advtab:!1,image_description:!0,image_dimensions:!1,block_unsupported_drop:!0,images_reuse_filename:!0,paste_data_images:!1,height:"300px",toolbar_location:"bottom",toolbar_mode:"sliding",menubar:!1,images_upload_handler:n=>{const t=n.blob(),a=new FormData;return a.append("file",t),a.append("idDrive","0AKQL50NKsue5Uk9PVA"),a.append("parents","['1_3htpPNQTxMi2sDQZes2WGWXPNwRxDYv']"),new Promise((o,r)=>{this._sanphamService.uploadDriver(a).subscribe(s=>{console.log(s),s&&(console.log(s),o(`${s.spath}`))})})},entity_encoding:"raw",file_picker_types:"image media",file_picker_callback:function(n,t,a){if("media"==a.filetype){const i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("accept","image/*"),i.setAttribute("accept","media/*"),i.onchange=function(){const o=i.files[0],r=new FileReader;this.file=o;const s=new FormData;s.append("file",o),fetch(M.N.APIURL+"/upload/file",{method:"POST",body:s}).then(f=>f.json()).then(f=>n(`https://drive.google.com/uc?id=${f.idDrive}`)).catch(f=>console.log(f)),r.readAsDataURL(o)},i.click()}}};activeTabIndex=void 0;SelectFiles;tabGroup;constructor(n,t,a,i,o,r){this._sanphamService=n,this.route=t,this.sanitizer=a,this._tagService=i,this._notifierService=o,this._router=r,this.APITINYMCE=M.N.APITINYMCE}ngOnInit(){this._sanphamService.getDanhmucs().subscribe(),this._sanphamService.danhmucs$.subscribe(n=>{n&&(this.danhmucs=n)}),this._tagService.getTags().subscribe(),this._tagService.tags$.subscribe(n=>{n&&(this.tags=n,this.tinhtrangdas=n.filter(t=>0==t.Loaitag),this.loaisanphams=n.filter(t=>1==t.Loaitag))}),this.ListImage=this.product.ListImage,this.route.params.subscribe(n=>{this.slug=n.slug;const t=n.id;console.log(t),t?this.product={Tieude:"",Mota:" ",Noidung:{Thongtin:"",Sudung:"",Thanhphan:""},Thanhphan:"",Huongdan:"",idDM:t,Khoiluong:"",Thuonghieu:"",Code:"",Slug:"",SKU:"",Tags:[],Hinhanh:{},ListImage:{},ContentImage:"",GiaSale:0,Gia:0,Image:"",Type:"",Thongtin:"",Ordering:0,Trangthai:0}:(this._sanphamService.getProductDetail(this.slug).subscribe(),this._sanphamService.product$.subscribe(a=>{a&&(console.log(a),this.product=a,this.tagsLoaiSpData=this.product.Tags.filter(i=>1==i.Loaitag),this.tagsTinhtrangData=this.product.Tags.filter(i=>0==i.Loaitag),this.ListImage=this.product.ListImage)}))})}handleTabChange(n){this.activeTabIndex=n.index}ngAfterViewInit(){this.activeTabIndex=this.tabGroup.selectedIndex}onFileBrowse(n,t,a,i){const o=n.target.files[0],r=new FormData;r.append("file",o),r.append("width",a),r.append("height",i),this._sanphamService.uploadDriver(r).subscribe(s=>{s&&(1==t?this.product.Image=s.idDrive:2==t?this.product.Image1=s.idDrive:3==t?this.product.ContentImage=s.idDrive:4==t&&(this.product.Imagecachsudung=s.idDrive))})}fileUrls=[];SelectHinh(n,t){const a=n.target.files[0],i=new FormData;i.append("file",a),i.append("idDrive","0AKQL50NKsue5Uk9PVA"),i.append("parents","['1_3htpPNQTxMi2sDQZes2WGWXPNwRxDYv']"),this._sanphamService.uploadDriver(i).subscribe(o=>{o&&(this.product.Hinhanh[t]=o,this._sanphamService.updateProduct(this.product).subscribe())})}Uploadfile(n,t,a){const i=n.target.files[0],o=new FormData;o.append("file",i),o.append("alt",a),o.append("idDrive","0AKQL50NKsue5Uk9PVA"),o.append("parents","['1_3htpPNQTxMi2sDQZes2WGWXPNwRxDYv']"),this._sanphamService.uploadDriver(o).subscribe(r=>{r&&(console.log(r),console.log(t),this.product.Hinhanh.push(r))})}selectFile(n){this.selectedFiles=n.target.files,console.log(this.selectedFiles)}removeImage(n){delete this.product.ListImage[n]}removeSimpleImage(n){this.product.Hinhanh[n]=""}uploadListImage(){if(this.selectedFiles){const n=Object.keys(this.product.ListImage).length;for(let t=0;t<this.selectedFiles.length;t++){const a=this.selectedFiles[t],i=new FormData;if(a){console.log(a),i.append("file",a);new Promise(r=>{this._sanphamService.uploadDriver(i).subscribe(s=>{s&&(console.log(s),r(s.idDrive))})}).then(n>0?r=>{this.product.ListImage[t+n]=r}:r=>{this.product.ListImage[t]=r})}}this.selectedFiles=void 0}}selectTags(){}onSubmit(){this._sanphamService.postProduct(this.product).subscribe(n=>{this._router.navigate([`./sanpham/${n.Slug}`]),console.log(n)})}updateSanpham(){delete this.product.Danhmuc;const n=this.tagsLoaiSpData.concat(this.tagsTinhtrangData);this.product.Tags=n,console.log(this.product),this._sanphamService.updateProduct(this.product).subscribe(t=>{this._notifierService.notify("success","C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")})}compareFn(n,t){return n.id==t.id}static \u0275fac=function(t){return new(t||_)(e.\u0275\u0275directiveInject(E.D),e.\u0275\u0275directiveInject(d.gz),e.\u0275\u0275directiveInject(q.H7),e.\u0275\u0275directiveInject(Z.i),e.\u0275\u0275directiveInject(T.lG),e.\u0275\u0275directiveInject(d.F0))};static \u0275cmp=e.\u0275\u0275defineComponent({type:_,selectors:[["tazagroup-detailsanpham"]],viewQuery:function(t,a){if(1&t&&e.\u0275\u0275viewQuery(ee,5),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(a.tabGroup=i.first)}},decls:100,vars:48,consts:[[1,"p-4","w-full"],[1,"flex","flex-col","space-y-2","px-2"],[1,"flex","flex-row","space-x-2"],["appearance","outline",1,"w-full"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Slug","value","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","placeholder","Tr\u1ea1ng th\xe1i","value","",3,"ngModel","ngModelOptions","ngModelChange"],[1,"flex","flex-row","space-x-4"],[1,"w-full","flex","flex-row","space-x-2","justify-between"],[1,"flex","flex-col","space-y-3","w-60","h-96","overflow-auto","p-4"],[1,"flex","flex-col","space-y-2","items-center",3,"click"],["type","file","accept","image/*",1,"hidden",3,"change"],["hinh1",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],["hinh2",""],["hinh3",""],["hinh4",""],["hinh5",""],["hinhchinh",""],[1,"w-full","flex","flex-col","space-y-2"],["appearance","outline"],["type","text","matInput","",1,"w-full","px-3","py-2","border","border-gray-200","rounded",3,"placeholder"],[3,"apiKey","ngModel","ngModelOptions","init","ngModelChange"],["appearance","outline",1,"w-1/3"],["type","text","matInput","",1,"px-3","py-2","border","border-gray-200","rounded",3,"placeholder"],["hinhthongtin",""],["fitInkBarToContent","",1,"w-full",3,"selectedTabChange"],["tabGroup",""],["label","Th\xf4ng Tin S\u1ea3n Ph\u1ea9m"],[3,"apiKey","ngModel","ngModelOptions","init","ngModelChange",4,"ngIf"],["hidden","","matInput","",3,"ngModel","ngModelOptions","ngModelChange"],["label","C\xe1ch S\u1eed D\u1ee5ng"],["label","Th\xe0nh Ph\u1ea7n"],[1,"flex","flex-row","justify-center","space-x-2","items-center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","class","text-white bg-green-500",3,"click",4,"ngIf"],[3,"value"],[1,"flex","flex-col","justify-center","items-center","w-28","h-28","bg-gray-300","border-dashed","border-2"],["width","400px","height","400px","alt","",3,"src"],[1,"flex","flex-col","justify-center","items-center","w-96","h-96","bg-gray-300","border-dashed","border-2"],["width","400px","alt","",3,"src"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",1,"text-white","bg-green-500",3,"click"]],template:function(t,a){if(1&t){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.\u0275\u0275text(5,"Danh m\u1ee5c"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"mat-select",4),e.\u0275\u0275listener("ngModelChange",function(r){return a.product.idDM=r}),e.\u0275\u0275template(7,te,2,2,"mat-option",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"mat-form-field",3)(9,"mat-label"),e.\u0275\u0275text(10,"Slug"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"input",6),e.\u0275\u0275listener("ngModelChange",function(r){return a.product.Slug=r}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"mat-form-field",3)(13,"mat-label"),e.\u0275\u0275text(14,"Tr\u1ea1ng th\xe1i"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"input",7),e.\u0275\u0275listener("ngModelChange",function(r){return a.product.Trangthai=r}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"div",8)(17,"div",9)(18,"div",10)(19,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const r=e.\u0275\u0275reference(21);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275elementStart(20,"input",12,13),e.\u0275\u0275listener("change",function(r){return a.SelectHinh(r,"hinh1")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,ne,6,0,"ng-container",14),e.\u0275\u0275template(23,ae,1,1,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const r=e.\u0275\u0275reference(27);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275elementStart(26,"input",12,16),e.\u0275\u0275listener("change",function(r){return a.SelectHinh(r,"hinh2")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,ie,6,0,"ng-container",14),e.\u0275\u0275template(29,re,1,1,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const r=e.\u0275\u0275reference(33);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275elementStart(32,"input",12,17),e.\u0275\u0275listener("change",function(r){return a.SelectHinh(r,"hinh3")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(34,le,6,0,"ng-container",14),e.\u0275\u0275template(35,oe,1,1,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const r=e.\u0275\u0275reference(39);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275elementStart(38,"input",12,18),e.\u0275\u0275listener("change",function(r){return a.SelectHinh(r,"hinh4")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(40,ce,6,0,"ng-container",14),e.\u0275\u0275template(41,se,1,1,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const r=e.\u0275\u0275reference(45);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275elementStart(44,"input",12,19),e.\u0275\u0275listener("change",function(r){return a.SelectHinh(r,"hinh5")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(46,me,6,0,"ng-container",14),e.\u0275\u0275template(47,pe,1,1,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(49,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const r=e.\u0275\u0275reference(51);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275elementStart(50,"input",12,20),e.\u0275\u0275listener("change",function(r){return a.SelectHinh(r,"hinhchinh")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(52,de,6,0,"ng-container",14),e.\u0275\u0275template(53,ue,1,1,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(55,"div",21)(56,"div",2)(57,"mat-form-field",22)(58,"mat-label"),e.\u0275\u0275text(59,"Gi\xe1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(60,"input",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(61,"mat-form-field",22)(62,"mat-label"),e.\u0275\u0275text(63,"Gi\xe1 Sale"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(64,"input",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(65,"mat-form-field",3)(66,"mat-label"),e.\u0275\u0275text(67,"Ti\xeau \u0110\u1ec1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(68,"input",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(69,"editor",24),e.\u0275\u0275listener("ngModelChange",function(r){return a.product.Mota=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(70,"div",2)(71,"mat-form-field",25)(72,"mat-label"),e.\u0275\u0275text(73,"M\xe3 H\xe0ng"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(74,"input",26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(75,"mat-form-field",3)(76,"mat-label"),e.\u0275\u0275text(77,"Tags"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(78,"input",23),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(79,"div",2)(80,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const r=e.\u0275\u0275reference(82);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275elementStart(81,"input",12,27),e.\u0275\u0275listener("change",function(r){return a.SelectHinh(r,"hinhthongtin")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(83,he,6,0,"ng-container",14),e.\u0275\u0275template(84,ge,1,1,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(86,"mat-tab-group",28,29),e.\u0275\u0275listener("selectedTabChange",function(r){return a.handleTabChange(r)}),e.\u0275\u0275elementStart(88,"mat-tab",30),e.\u0275\u0275template(89,_e,1,5,"editor",31),e.\u0275\u0275elementStart(90,"textarea",32),e.\u0275\u0275listener("ngModelChange",function(r){return a.product.Noidung.Thongtin=r}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(91,"mat-tab",33),e.\u0275\u0275template(92,fe,1,5,"editor",31),e.\u0275\u0275elementStart(93,"textarea",32),e.\u0275\u0275listener("ngModelChange",function(r){return a.product.Noidung.Sudung=r}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(94,"mat-tab",34),e.\u0275\u0275template(95,xe,1,5,"editor",31),e.\u0275\u0275elementStart(96,"textarea",32),e.\u0275\u0275listener("ngModelChange",function(r){return a.product.Noidung.Thanhphan=r}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(97,"div",35),e.\u0275\u0275template(98,ve,2,0,"button",36),e.\u0275\u0275template(99,Ce,2,0,"button",37),e.\u0275\u0275elementEnd()()()}if(2&t){const i=e.\u0275\u0275reference(24);e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",a.product.idDM)("ngModelOptions",e.\u0275\u0275pureFunction0(41,p)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",a.danhmucs),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",a.product.Slug)("ngModelOptions",e.\u0275\u0275pureFunction0(42,p)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",a.product.Trangthai)("ngModelOptions",e.\u0275\u0275pureFunction0(43,p)),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",!a.product.Hinhanh.hinh1)("ngIfElse",i),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",!a.product.Hinhanh.hinh2)("ngIfElse",i),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",!a.product.Hinhanh.hinh3)("ngIfElse",i),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",!a.product.Hinhanh.hinh4)("ngIfElse",i),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",!a.product.Hinhanh.hinh5)("ngIfElse",i),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",!a.product.Hinhanh.hinhchinh)("ngIfElse",i),e.\u0275\u0275advance(8),e.\u0275\u0275property("placeholder","T\xecm ki\u1ebfm b\xe0i vi\u1ebft"),e.\u0275\u0275advance(4),e.\u0275\u0275property("placeholder","T\xecm ki\u1ebfm b\xe0i vi\u1ebft"),e.\u0275\u0275advance(4),e.\u0275\u0275property("placeholder","T\xecm ki\u1ebfm b\xe0i vi\u1ebft"),e.\u0275\u0275advance(1),e.\u0275\u0275property("apiKey",a.APITINYMCE)("ngModel",a.product.Mota)("ngModelOptions",e.\u0275\u0275pureFunction0(44,p))("init",a.configTiny),e.\u0275\u0275advance(5),e.\u0275\u0275property("placeholder","T\xecm ki\u1ebfm b\xe0i vi\u1ebft"),e.\u0275\u0275advance(4),e.\u0275\u0275property("placeholder","T\xecm ki\u1ebfm b\xe0i vi\u1ebft"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",!a.product.Hinhanh.hinhthongtin)("ngIfElse",i),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",0===a.activeTabIndex),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",a.product.Noidung.Thongtin)("ngModelOptions",e.\u0275\u0275pureFunction0(45,p)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",1===a.activeTabIndex),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",a.product.Noidung.Sudung)("ngModelOptions",e.\u0275\u0275pureFunction0(46,p)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",2===a.activeTabIndex),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",a.product.Noidung.Thanhphan)("ngModelOptions",e.\u0275\u0275pureFunction0(47,p)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!a.product.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.product.id)}},dependencies:[g.sg,g.O5,m.Fj,m.JJ,m.On,F.ey,b.lW,h.KE,h.hX,D.Nt,k.gD,V.SP,V.uX,I.PG]})}function Se(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",23),e.\u0275\u0275element(2,"img",24),e.\u0275\u0275elementStart(3,"span",25),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.removeSimpleImage("Image"))}),e.\u0275\u0275text(4," cancel "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("src","https://drive.google.com/uc?id=",t.danhmuc.Image,"",e.\u0275\u0275sanitizeUrl)}}function Ee(l,n){1&l&&(e.\u0275\u0275elementStart(0,"div",26),e.\u0275\u0275element(1,"img",27),e.\u0275\u0275elementStart(2,"div"),e.\u0275\u0275text(3,"Ch\u01b0a c\xf3 h\xecnh \u1ea3nh"),e.\u0275\u0275elementEnd()())}function Te(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",7),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.Create(i.danhmuc))}),e.\u0275\u0275text(1,"T\u1ea1o m\u1edbi"),e.\u0275\u0275elementEnd()}}function be(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",28),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.Update(i.danhmuc))}),e.\u0275\u0275text(1,"C\u1eadp nh\u1eadt"),e.\u0275\u0275elementEnd()}}const v=function(){return{standalone:!0}};class C{fb;route;_sanphamService;_notifierService;_router;danhmuc={Image:0};theme;selectedFiles;percentage=0;selectTheme;slug;DanhmucList;constructor(n,t,a,i,o){this.fb=n,this.route=t,this._sanphamService=a,this._notifierService=i,this._router=o}nest=(n,t="",a="pid")=>{if(n)return n?.filter(i=>i[a]==t).map(i=>({...i,children:this.nest(n,i.id)}))};onSubmit(){this.DanhmucList.removeControl("id"),this._sanphamService.postDanhmuc(this.DanhmucList.value).subscribe(),this._notifierService.show({message:"T\u1ea1o danh m\u1ee5c th\xe0nh c\xf4ng",type:"success"}),this.resetForm()}Create(n){this._sanphamService.postDanhmuc(n).subscribe(),this._notifierService.show({message:"T\u1ea1o danh m\u1ee5c th\xe0nh c\xf4ng",type:"success"}),this.resetForm()}Update(n){this._sanphamService.updateDanhmuc(n).subscribe(t=>{this._router.navigate(["admin/sanpham"])}),this._notifierService.show({message:"C\u1eadp Nh\u1eadt danh m\u1ee5c th\xe0nh c\xf4ng",type:"success"})}deleteDanhmuc(){this.resetForm()}updateDanhmuc(){this._sanphamService.updateDanhmuc(this.DanhmucList.value).subscribe(),this._notifierService.show({message:"C\u1eadp Nh\u1eadt danh m\u1ee5c th\xe0nh c\xf4ng",type:"success"}),this.resetForm()}removeSimpleImage(n){this.danhmuc[n]=""}onFileBrowse(n,t){let a=n.target.files[0];const i=new FormData;i.append("file",a),this._sanphamService.uploadDriver(i).subscribe(o=>{o&&99==t&&(this.danhmuc.Image=o.idDrive,this._sanphamService.updateDanhmuc(this.danhmuc).subscribe(r=>{}))})}resetForm(){this.DanhmucList=this.fb.group({id:[""],Title:[""],Mota:[""],Type:[""],pid:[""],Slug:[""],Ordering:[0]})}ngOnInit(){this.resetForm(),this.route.params.subscribe(n=>{this.slug=n.slug,console.log(this.slug),"danhmucmoi"!=this.slug?(this._sanphamService.getDanhmucDetail(this.slug).subscribe(),this._sanphamService.danhmuc$.subscribe(t=>{t&&(this.danhmuc=t)})):this.danhmuc={Image:0}})}static \u0275fac=function(t){return new(t||C)(e.\u0275\u0275directiveInject(m.qu),e.\u0275\u0275directiveInject(d.gz),e.\u0275\u0275directiveInject(E.D),e.\u0275\u0275directiveInject(T.lG),e.\u0275\u0275directiveInject(d.F0))};static \u0275cmp=e.\u0275\u0275defineComponent({type:C,selectors:[["tazagroup-detaildanhmuc"]],decls:43,vars:17,consts:[[1,"w-full","pt-10",3,"formGroup"],[1,"flex","flex-row","space-x-4","px-2"],[1,"flex","flex-col","space-y-2","p-4","shadow","w-1/3"],[1,"font-bold","text-center"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"space-y-3","text-center"],["mat-raised-button","","color","primary",3,"click"],["type","file","accept","image/*",1,"hidden",3,"change"],["fileInput2",""],[1,"text-xs"],[1,"flex","flex-col","space-y-2","w-full"],[1,"w-full","md:px-3","mb-6","md:mb-0"],["appearance","outline",1,"flex","w-full"],[3,"ngModel","ngModelOptions","ngModelChange"],["value",""],["value","tintucsukien"],["matInput","","type","text","placeholder","Chuy\xean ng\xe0nh",1,"w-full","text-xs",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","type","text","placeholder","Slug",1,"w-full","text-xs",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","type","text","placeholder","Ordering",1,"w-full","text-xs",3,"ngModel","ngModelOptions","ngModelChange"],[1,"flex","flex-row","justify-center","space-x-2","items-center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","class","text-white bg-green-500",3,"click",4,"ngIf"],[1,"relative"],["width","200px",3,"src"],[1,"material-icons","absolute","right-[-10px]","top-[-10px]","cursor-pointer",3,"click"],[1,"text-center"],["src","/assets/image/logo.svg",1,"m-auto","w-32"],["mat-raised-button","",1,"text-white","bg-green-500",3,"click"]],template:function(t,a){if(1&t){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3),e.\u0275\u0275text(4,"H\xecnh 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Se,5,1,"ng-container",4),e.\u0275\u0275template(6,Ee,4,0,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(8,"div",6)(9,"button",7),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const r=e.\u0275\u0275reference(13);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275elementStart(10,"span"),e.\u0275\u0275text(11,"Upload"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"input",8,9),e.\u0275\u0275listener("change",function(r){return a.onFileBrowse(r,99)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",10),e.\u0275\u0275text(15,"K\xedch Th\u01b0\u1edbc File (800x800)px | \u0110\u1ecbnh d\u1ea1ng : .png,jpg | Dung L\u01b0\u1ee3ng File d\u01b0\u1edbi 1MB "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"div",11)(17,"div",12)(18,"mat-form-field",13)(19,"mat-label"),e.\u0275\u0275text(20,"Lo\u1ea1i Danh M\u1ee5c"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"mat-select",14),e.\u0275\u0275listener("ngModelChange",function(r){return a.danhmuc.Type=r}),e.\u0275\u0275element(22,"mat-option",15),e.\u0275\u0275elementStart(23,"mat-option",16),e.\u0275\u0275text(24,"Tin t\u1ee9c s\u1ef1 ki\u1ec7n"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(25,"div",12)(26,"mat-form-field",13)(27,"mat-label"),e.\u0275\u0275text(28,"Ti\xeau \u0111\u1ec1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"input",17),e.\u0275\u0275listener("ngModelChange",function(r){return a.danhmuc.Title=r}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(30,"div",12)(31,"mat-form-field",13)(32,"mat-label"),e.\u0275\u0275text(33,"Slug"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"input",18),e.\u0275\u0275listener("ngModelChange",function(r){return a.danhmuc.Slug=r}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(35,"div",12)(36,"mat-form-field",13)(37,"mat-label"),e.\u0275\u0275text(38," Ordering"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"input",19),e.\u0275\u0275listener("ngModelChange",function(r){return a.danhmuc.Ordering=r}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(40,"div",20),e.\u0275\u0275template(41,Te,2,0,"button",21),e.\u0275\u0275template(42,be,2,0,"button",22),e.\u0275\u0275elementEnd()()()()}if(2&t){const i=e.\u0275\u0275reference(7);e.\u0275\u0275property("formGroup",a.DanhmucList),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",0!=a.danhmuc.Image)("ngIfElse",i),e.\u0275\u0275advance(16),e.\u0275\u0275property("ngModel",a.danhmuc.Type)("ngModelOptions",e.\u0275\u0275pureFunction0(13,v)),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngModel",a.danhmuc.Title)("ngModelOptions",e.\u0275\u0275pureFunction0(14,v)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",a.danhmuc.Slug)("ngModelOptions",e.\u0275\u0275pureFunction0(15,v)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",a.danhmuc.Ordering)("ngModelOptions",e.\u0275\u0275pureFunction0(16,v)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!a.danhmuc.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.danhmuc.id)}},dependencies:[g.O5,m._Y,m.Fj,m.JJ,m.JL,m.On,F.ey,b.lW,h.KE,h.hX,D.Nt,k.gD,m.sg]})}class S{static \u0275fac=function(t){return new(t||S)};static \u0275mod=e.\u0275\u0275defineNgModule({type:S});static \u0275inj=e.\u0275\u0275defineInjector({imports:[g.ez,m.u5,A.JF,L.MaterialModule,m.UX,N.kz,I.Z_,d.Bz.forChild([{path:"",component:x,children:[{path:"danhmuc/:slug",component:C},{path:"sanpham/:slug",component:_},{path:":id/spmoi",component:_}]}]),d.Bz]})}}}]);