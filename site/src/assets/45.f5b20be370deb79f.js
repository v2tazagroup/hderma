"use strict";(self.webpackChunkhdermaapp=self.webpackChunkhdermaapp||[]).push([[45],{4045:(z,v,a)=>{a.r(v),a.d(v,{DanhmucModule:()=>f});var C=a(6895),u=a(5715),y=a(529),o=a(4006),T=a(5291),b=a(9102),w=a(9485),m=a(5423),V=a(7851),D=a(2733),L=a(8739),N=a(6308),e=a(4650),x=a(5938),I=a(4859),_=a(7392),p=a(9549),E=a(4144),S=a(3267),k=a(266);function F(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-tree-node",7),e.\u0275\u0275element(1,"button",8),e.\u0275\u0275elementStart(2,"div",9)(3,"div",10)(4,"span",11),e.\u0275\u0275text(5," collections_bookmark "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"span",12),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",13)(9,"span",14),e.\u0275\u0275listener("click",function(){const c=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(),g=e.\u0275\u0275reference(9);return e.\u0275\u0275resetView(s.OpenThemDanhmuc(c,g))}),e.\u0275\u0275text(10," note_add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"span",15),e.\u0275\u0275text(12," edit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"span",16),e.\u0275\u0275listener("click",function(){const c=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.deleteDanhmuc(c.id))}),e.\u0275\u0275text(14," delete "),e.\u0275\u0275elementEnd()()()()}if(2&l){const t=n.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("routerLink","detail/",t.Slug,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.Title)}}function O(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-tree-node",7)(1,"button",17)(2,"mat-icon",18),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",19)(5,"div",10)(6,"span",11),e.\u0275\u0275text(7," collections_bookmark "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"span",12),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",20)(11,"span",21),e.\u0275\u0275listener("click",function(){const c=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(),g=e.\u0275\u0275reference(9);return e.\u0275\u0275resetView(s.OpenThemDanhmuc(c,g))}),e.\u0275\u0275text(12," note_add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"span",22),e.\u0275\u0275text(14," edit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"span",23),e.\u0275\u0275listener("click",function(){const c=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.deleteDanhmuc(c.id))}),e.\u0275\u0275text(16," delete "),e.\u0275\u0275elementEnd()()()()}if(2&l){const t=n.$implicit,r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label","Toggle "+t.Title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",r.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("routerLink","detail/",t.Slug,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",t.Title," ")}}function j(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-dialog-content")(1,"form",24)(2,"div")(3,"mat-form-field",25)(4,"mat-label"),e.\u0275\u0275text(5,"Slug"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"input",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div")(8,"mat-form-field",27)(9,"mat-label"),e.\u0275\u0275text(10,"T\xean Danh M\u1ee5c"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"input",28),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",29)(13,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onSave())}),e.\u0275\u0275text(14," X\xe1c nh\u1eadn "),e.\u0275\u0275elementEnd()()()}if(2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.DanhmucList),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName","Slug"),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName","Title")}}class h{dialog;fb;_danhmucService;themes;danhmuc;theme;selectedFiles;percentage=0;selectTheme;DanhmucList;temp;sort;paginator;_transformer=(n,t)=>({expandable:!!n.children&&n.children.length>0,level:t,...n});treeControl=new V.C2(n=>n.level,n=>n.expandable);treeFlattener=new m.JZ(this._transformer,n=>n.level,n=>n.expandable,n=>n.children);hasChild=(n,t)=>t.expandable;hasNoContent=(n,t)=>""===t.name;dataSource1=new m.kc(this.treeControl,this.treeFlattener);constructor(n,t,r){this.dialog=n,this.fb=t,this._danhmucService=r}nest=(n,t="",r="pid")=>{if(n)return n?.filter(i=>i[r]==t).map(i=>({...i,children:this.nest(n,i.id)}))};OpenThemDanhmuc(n,t){this.temp=n,this.dialog.open(t)}clickupdate(){this.danhmuc.forEach(n=>{this._danhmucService.postDanhmuc(n).subscribe(t=>console.log(t))})}onSave(){this.DanhmucList.get("pid")?.setValue(this.temp.id),this._danhmucService.postDanhmuc(this.DanhmucList.value).subscribe(n=>{n&&(this.resetForm(),alert("T\u1ea1o danh m\u1ee5c th\xe0nh c\xf4ng"),this.dialog.closeAll())})}deleteDanhmuc(n){this._danhmucService.deleteDanhmuc(n).subscribe(t=>{t&&alert("Xo\xe1 danh m\u1ee5c th\xe0nh c\xf4ng")})}resetForm(){this.DanhmucList=this.fb.group({Title:[""],Mota:[""],Type:[""],pid:[""],Slug:[""],Ordering:[0]})}ngOnInit(){this.resetForm(),this._danhmucService.getDanhmucs().subscribe(),this._danhmucService.danhmucs$.subscribe(n=>{n&&(this.danhmuc=n,this.danhmuc.sort((t,r)=>t.Ordering-r.Ordering),this.dataSource1.data=this.nest(n))})}static \u0275fac=function(t){return new(t||h)(e.\u0275\u0275directiveInject(x.uw),e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(D.a))};static \u0275cmp=e.\u0275\u0275defineComponent({type:h,selectors:[["app-danhmuc"]],viewQuery:function(t,r){if(1&t&&(e.\u0275\u0275viewQuery(N.YE,5),e.\u0275\u0275viewQuery(L.NW,5)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.sort=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.paginator=i.first)}},decls:10,vars:3,consts:[["autosize","",1,"example-container","bg-white"],["opened","","mode","side",1,"example-sidenav","w-1/3"],["drawer",""],[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["ThemDanhmucDialog",""],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],["routerLinkActive","bg-gray-200",1,"flex","items-center","justify-between","space-x-4","cursor-pointer","w-full","px-3","py-1","group",3,"routerLink"],[1,"flex","items-center","space-x-2"],[1,"material-icons","text-yellow-500"],[1,""],[1,"hidden","group-hover:flex","items-center","space-x-2"],["title","T\u1ea1o danh m\u1ee5c con",1,"material-icons","cursor-pointer","text-blue-500",3,"click"],["title","Ch\u1ec9nh s\u1eeda",1,"material-icons","text-blue-500"],["title","Xo\xe1",1,"material-icons","cursor-pointer","text-red-500",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["routerLinkActive","bg-gray-200",1,"flex","items-center","space-x-4","justify-between","cursor-pointer","w-full","group","hover:bg-gray-200","px-3","py-1","rounded",3,"routerLink"],[1,"items-center","space-x-2","hidden","group-hover:flex"],["title","T\u1ea1o danh m\u1ee5c con","matTooltip","T\u1ea1o danh m\u1ee5c con",1,"material-icons","cursor-pointer","text-blue-500",3,"click"],[1,"material-icons","text-blue-500"],[1,"material-icons","cursor-pointer","text-red-500",3,"click"],[3,"formGroup"],["appearance","outline",1,"flex","w-full"],["matInput","","type","text","placeholder","Slug",3,"formControlName"],["appearance","outline",1,"flex","\u01b0-full"],["matInput","","type","text","placeholder","T\xean danh muc",3,"formControlName"],[1,"flex","justify-end"],["mat-button","","matDialogClose","","color","white",1,"bg-green-500","text-white",3,"click"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"mat-tree",3),e.\u0275\u0275template(4,F,15,2,"mat-tree-node",4),e.\u0275\u0275template(5,O,17,4,"mat-tree-node",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div"),e.\u0275\u0275element(7,"router-outlet"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,j,15,3,"ng-template",null,6,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("dataSource",r.dataSource1)("treeControl",r.treeControl),e.\u0275\u0275advance(2),e.\u0275\u0275property("matTreeNodeDefWhen",r.hasChild))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,I.lW,x.ZT,x.xY,_.Hw,p.KE,p.hX,E.Nt,S.jA,S.kh,k.gM,m.fQ,m.ah,m.eu,m.gi,m.uo,o.sg,o.u,u.lC,u.rH,u.Od],encapsulation:2})}var A=a(3238),J=a(4385);function M(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onSubmit())}),e.\u0275\u0275text(1,"T\u1ea1o m\u1edbi"),e.\u0275\u0275elementEnd()}}function $(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.updateDanhmuc())}),e.\u0275\u0275text(1,"C\u1eadp nh\u1eadt"),e.\u0275\u0275elementEnd()}}class d{fb;route;_danhmucService;danhmuc;theme;selectedFiles;percentage=0;selectTheme;slug;DanhmucList;constructor(n,t,r){this.fb=n,this.route=t,this._danhmucService=r}nest=(n,t="",r="pid")=>{if(n)return n?.filter(i=>i[r]==t).map(i=>({...i,children:this.nest(n,i.id)}))};onSubmit(){this.DanhmucList.removeControl("id"),this._danhmucService.postDanhmuc(this.DanhmucList.value).subscribe(n=>{n&&alert("T\u1ea1o danh m\u1ee5c th\xe0nh c\xf4ng")}),this.resetForm()}deleteDanhmuc(){this.resetForm()}updateDanhmuc(){this._danhmucService.updateDanhmuc(this.DanhmucList.value).subscribe(n=>{n&&alert("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")}),this.resetForm()}resetForm(){this.DanhmucList=this.fb.group({id:[""],Title:[""],Mota:[""],Type:[""],pid:[""],Slug:[""],Ordering:[0]})}ngOnInit(){this.resetForm(),this.route.params.subscribe(n=>{this.slug=n.slug,this.slug&&(this._danhmucService.getDanhmucDetail(this.slug).subscribe(),this._danhmucService.danhmuc$.subscribe(t=>{t&&(this.DanhmucList.get("id")?.setValue(t.id),this.DanhmucList.get("Title")?.setValue(t.Title),this.DanhmucList.get("Slug")?.setValue(t.Slug),this.DanhmucList.get("Ordering")?.setValue(t.Ordering),this.DanhmucList.get("pid")?.setValue(t.pid),this.DanhmucList.get("Type")?.setValue(t.Type))}))})}static \u0275fac=function(t){return new(t||d)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(u.gz),e.\u0275\u0275directiveInject(D.a))};static \u0275cmp=e.\u0275\u0275defineComponent({type:d,selectors:[["tazagroup-danhmuc-detail"]],decls:28,vars:7,consts:[[1,"w-full","pt-10",3,"formGroup"],[1,"flex","flex-wrap"],[1,"flex","md:mx-3","md:flex-row","flex-col","mb-6","justify-between","w-full"],["appearance","outline",1,"flex","w-full"],[3,"formControlName"],["value",""],["value","tintucsukien"],[1,"w-full","md:px-3","mb-6","md:mb-0"],["matInput","","type","text","placeholder","Chuy\xean ng\xe0nh",1,"w-full","text-xs",3,"formControlName"],["matInput","","type","text","placeholder","Slug",1,"w-full","text-xs",3,"formControlName"],["matInput","","type","text","placeholder","Ordering",1,"w-full","text-xs",3,"formControlName"],[1,"flex","items-center","md:px-3","mb-6"],["class","px-3 py-1 text-white rounded bg-green-500",3,"click",4,"ngIf"],["class","px-3 py-1 text-white rounded bg-blue-500",3,"click",4,"ngIf"],[1,"px-3","py-1","text-white","rounded","bg-green-500",3,"click"],[1,"px-3","py-1","text-white","rounded","bg-blue-500",3,"click"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.\u0275\u0275text(5,"Danh m\u1ee5c"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"mat-select",4),e.\u0275\u0275element(7,"mat-option",5),e.\u0275\u0275elementStart(8,"mat-option",6),e.\u0275\u0275text(9,"Tin t\u1ee9c s\u1ef1 ki\u1ec7n"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(10,"div",7)(11,"mat-form-field",3)(12,"mat-label"),e.\u0275\u0275text(13," Ti\xeau \u0111\u1ec1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",7)(16,"mat-form-field",3)(17,"mat-label"),e.\u0275\u0275text(18," Slug"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",7)(21,"mat-form-field",3)(22,"mat-label"),e.\u0275\u0275text(23," Ordering"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",11),e.\u0275\u0275template(26,M,2,0,"span",12),e.\u0275\u0275template(27,$,2,0,"span",13),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("formGroup",r.DanhmucList),e.\u0275\u0275advance(6),e.\u0275\u0275property("formControlName","Type"),e.\u0275\u0275advance(8),e.\u0275\u0275property("formControlName","Title"),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName","Slug"),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName","Ordering"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!r.slug),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.slug))},dependencies:[C.O5,o._Y,o.Fj,o.JJ,o.JL,A.ey,p.KE,p.hX,E.Nt,J.gD,o.sg,o.u]})}class f{static \u0275fac=function(t){return new(t||f)};static \u0275mod=e.\u0275\u0275defineNgModule({type:f});static \u0275inj=e.\u0275\u0275defineInjector({imports:[C.ez,o.u5,y.JF,T.MaterialModule,o.UX,w.kz,b.Z_,u.Bz.forChild([{path:"",component:h,children:[{path:"",component:d},{path:"detail/:slug",component:d}]}]),u.Bz]})}}}]);